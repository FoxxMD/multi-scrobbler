"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["51"],{5723:function(e,n,s){s.r(n),s.d(n,{default:()=>H,frontMatter:()=>G,metadata:()=>i,assets:()=>K,toc:()=>X,contentTitle:()=>J});var i=JSON.parse('{"id":"configuration/configuration","title":"Overview","description":"Check the FAQ if you have any issues after configuration!","source":"@site/docs/configuration/configuration.mdx","sourceDirName":"configuration","slug":"/configuration/","permalink":"/multi-scrobbler/docs/configuration/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/configuration/configuration.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Overview","toc_max_heading_level":3},"sidebar":"tutorialSidebar","previous":{"title":"Configuration","permalink":"/multi-scrobbler/docs/category/configuration"},"next":{"title":"Plex/Tautulli (Deprecated)","permalink":"/multi-scrobbler/docs/configuration/plex"}}'),r=s("5893"),l=s("65"),t=s("8168"),o=s("7645"),c=s("3427"),d=s.n(c),a=s("7294");let h=e=>{let{children:n,lower:s,client:i=!1}=e,l=n;void 0===l&&(l=(0,r.jsxs)(a.Fragment,{children:[s?"explore":"Explore"," the schema with an example and live editor/validator"]}));let t=`https://json-schema.app/view/%23/%23%2Fdefinitions%2F${e.objectName}`;return(0,r.jsx)("a",{target:"_blank",href:`${t}?url=${i?"https%3A%2F%2Fraw.githubusercontent.com%2FFoxxMD%2Fmulti-scrobbler%2Fmaster%2Fsrc%2Fbackend%2Fcommon%2Fschema%2Fclient.json":"https%3A%2F%2Fraw.githubusercontent.com%2FFoxxMD%2Fmulti-scrobbler%2Fmaster%2Fsrc%2Fbackend%2Fcommon%2Fschema%2Fsource.json"}`,children:l})};var x=s("4926"),u=s("5514"),j=s("1142"),m=s.n(j);let p=e=>{let n;let{data:s,name:i,client:l=!1}=e;try{n=m().parse(s)}catch(e){return console.error(e),(0,r.jsxs)(x.Z,{type:"danger",title:"Unexpected Error",children:[(0,r.jsx)("p",{children:"Example component crashed because of error!"}),(0,r.jsx)(d(),{children:e.message})]})}n=(n=n.filter(e=>void 0===e.configureAs||e.configureAs===(l?"client":"source"))).map(e=>({...e,type:i}));let t={[l?"clients":"sources"]:n};return(0,r.jsx)(d(),{title:"CONFIG_DIR/config.json",language:"json5",children:JSON.stringify(t,null,2)})},f=e=>(0,r.jsx)(u.default,{fallback:e=>{let{error:n}=e;return(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:["Example component crashed because of error: ",n.message,"."]})})},children:(0,r.jsx)(p,{...e})}),b=e=>{let n;let{data:s,client:i=!1,...l}=e;try{n=m().parse(s)}catch(e){return console.error(e),(0,r.jsxs)(x.Z,{type:"danger",title:"Unexpected Error",children:[(0,r.jsx)("p",{children:"Example component crashed because of error!"}),(0,r.jsx)(d(),{children:e.message})]})}return n=n.filter(e=>void 0===e.configureAs||e.configureAs===(i?"client":"source")),(0,r.jsx)(d(),{...l,language:"json5",children:JSON.stringify(n,null,2)})},g=e=>(0,r.jsx)(u.default,{fallback:e=>{let{error:n}=e;return(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:["Example component crashed because of error: ",n.message,"."]})})},children:(0,r.jsx)(b,{...e})}),y='[\n  {\n    "type": "azuracast",\n    "enable": true,\n    "name": "azura",\n    "data": {\n      "url": "ws://192.168.0.101",\n      "station": "my-station-name",\n      "monitorWhenLive": true,\n      "monitorWhenListeners": 1\n    }\n  }\n]\n',v='[\n  {\n    "name": "MyCast",\n    "data": {\n      "blacklistedDevices": [],\n      "whitelistedDevices": [],\n      "blacklistedApps": [],\n      "whitelistedApps": []\n    }\n  }\n]\n',w='[\n  {\n    "name": "DeezerARL",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "arl": "UOsRPjT3U5Dhaaup3xQ30DWFoSgqugdSYzL3QE743waaVy2eur2ckyJcZ4RV123Q3PsbKXkLwA6ahc9XmEfev6BtfSP8LujE3JswWRQogZCDUOwVzWO5sAig",\n    }\n  }\n]\n',S='[\n  {\n    "name": "DeezerOfficalDeprecated",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "clientId": "a89cba1569901a0671d5a9875fed4be1",\n      "clientSecret": "ec42e09d5ae0ee0f0816ca151008412a",\n      "redirectUri": "http://localhost:9078/deezer/callback",\n      "interval": 60\n    }\n  }\n]\n',I='[\n    {\n      "name": "myIcy",\n      "enable": true,\n      "data": {\n        "url": "http://myIcecast.com/radio"\n      }\n    }\n  ]\n  ',C='[\n  {\n    "name": "MyJellyfin",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "url": "http://localhost:8096",\n      "user": "FoxxMD",\n      "apiKey": "c9fae8756fbf481ebd9c5bb56bd6540c",\n\n      // everything below is optional\n      "usersAllow": ["FoxxMD","SomeOtherUser"],\n      "usersBlock": ["AnotherUser"],\n      "devicesAllow": ["firefox"],\n      "devicesBlock": ["google-home"],\n      "librariesAllow": ["GoodMusic"],\n      "librariesBlock": ["BadMusic"],\n      "additionalAllowedLibraryTypes": ["musicvideos"],\n      "allowUnknown": false,\n    },\n    "options": {\n      "logPayload": true,\n      "logFilterFailure": "debug"\n    }\n  }\n]\n',A='[\n  {\n    "name": "MyJriver",\n    "enable": true,\n    "data": {\n      "url": "0.0.0.0",\n      "username": "auser",\n      "password": "apassword"\n    }\n  }\n]\n',E='[\n  {\n    "name": "MyKodi",\n    "enable": true,\n    "data": {\n      "url": "http://localhost:8080/jsonrpc",\n      "username": "myUser",\n      "password": "myPassword"\n    }\n  }\n]\n',k='[\n  {\n    "name": "myLastFmClient",\n    "enable": true,\n    "configureAs": "client",\n    "data": {\n      "apiKey": "a89cba1569901a0671d5a9875fed4be1",\n      "secret": "ec42e09d5ae0ee0f0816ca151008412a",\n      "redirectUri": "http://localhost:9078/lastfm/callback"\n    }\n  },\n  {\n    "name": "myLastFmSource",\n    "enable": true,\n    "configureAs": "source",\n    "data": {\n      "apiKey": "a89cba1569901a0671d5a9875fed4be1",\n      "secret": "ec42e09d5ae0ee0f0816ca151008412a",\n      "redirectUri": "http://localhost:9078/lastfm/callback"\n    }\n  }\n]\n',L='[\n  {\n    "name": "myLfm",\n    "enable": true,\n    "data": {\n      "slug": "mySlug"\n    }\n  }\n]\n',R='[\n  {\n    "name": "brainzClient",\n    "enable": true,\n    "configureAs": "client",\n    "data": {\n      "token": "029b081ba-9156-4pe7-88e5-3be671f5ea2b",\n      "username": "FoxxMD"\n    }\n  },\n  {\n    "name": "brainzSource",\n    "enable": true,\n    "configureAs": "source",\n    "data": {\n      "token": "029b081ba-9156-4pe7-88e5-3be671f5ea2b",\n      "username": "FoxxMD"\n    }\n  },\n  {\n    "name": "koitoClient",\n    "enable": true,\n    "configureAs": "client",\n    "data": {\n      "token": "029b081ba-9156-4pe7-88e5-3be671f5ea2b",\n      "username": "FoxxMD",\n      "url": "http://192.168.0.100:4110/apis/listenbrainz/1"\n    }\n  },\n]\n',T='[\n  {\n    "name": "myLz",\n    "enable": true,\n    "data": {\n      "token": "myToken"\n    }\n  }\n]\n',M='[\n  {\n    "name": "myMaloja",\n    "enable": true,\n    "data": {\n      "url": "http://localhost:42010",\n      "apiKey": "myMalojaKey"\n    }\n  }\n]\n',N='[\n  {\n    "name": "MyMopidy",\n    "enable": true,\n    "data": {\n      "url": "localhost",\n      "uriBlacklist": [],\n      "uriWhitelist": [],\n      "albumBlacklist": []\n    }\n  }\n]\n',D='[\n  {\n    "name": "ubuntu",\n    "enable": true,\n    "data": {\n      "whitelist": ["vlc", "mpd"],\n      "blacklist": ["spotify"]\n    }\n  }\n]\n',U='[\n  {\n    "type": "musikcube",\n    "enable": true,\n    "name": "musikcube",\n    "data": {\n      "url": "ws://localhost:7905",\n      "password": "MY_PASSWORD"\n    }\n  }\n]\n',F='[\n  {\n    "name": "myYamaha",\n    "enable": true,\n    "data": {\n      "url": "192.168.0.101"\n    }\n  }\n]\n',_='[\n  {\n    "enable": true,\n    "name": "MyMPD",\n    "data": {\n      "url": "192.168.0.100:6600",\n      "password": "MY_PASSWORD"\n    },\n    "options": {\n      "disableDiscovery": false\n    }\n  }\n]\n',O='[\n  {\n    "name": "MyPlexApi",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "token": "1234",\n      "url": "http://192.168.0.120:32400",\n      "usersAllow": ["FoxxMD","SomeOtherUser"],\n      "usersBlock": ["AnotherUser"],\n      "devicesAllow": ["firefox"],\n      "devicesBlock": ["google-home"],\n      "librariesAllow": ["GoodMusic"],\n      "librariesBlock": ["BadMusic"]\n    },\n    "options": {\n      "logPayload": true,\n      "logFilterFailure": "debug"\n      }\n  }\n]\n',P='[\n  // DEPRECATED, use API Source instead\n  // rename files to plex.json to use\n  {\n    "name": "MyPlex",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "user": ["username@gmail.com","anotherUser@gmail.com"],\n      "libraries": ["music","my podcasts"],\n      "servers": ["myServer","anotherServer"],\n      "options": {\n        "logFilterFailure": "warn"\n      }\n    }\n  }\n]\n',z='[\n  {\n    "name": "MySpotify",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "clientId": "a89cba1569901a0671d5a9875fed4be1",\n      "clientSecret": "ec42e09d5ae0ee0f0816ca151008412a",\n      "redirectUri": "http://localhost:9078/callback",\n      "interval": 60\n    }\n  }\n]\n',V='[\n  {\n    "name": "MySubsonic",\n    "enable": true,\n    "data": {\n      "url": "http://localhost:4040/airsonic",\n      "user": "yourUser",\n      "password": "yourPassword"\n    }\n  }\n]\n',Y='[\n  {\n    "name": "MyTautuilli",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "user": ["username@gmail.com","anotherUser@gmail.com"],\n      "libraries": ["music","my podcasts"],\n      "servers": ["myServer","anotherServer"],\n      "options": {\n        "logFilterFailure": "warn"\n      }\n    }\n  }\n]\n',W='[\n  {\n    "name": "MyWebScrobbler",\n    "data": {\n      "slug": "MyOptionalSlug",\n      "whitelist": [],\n      "blacklist": []\n    }\n  }\n]\n',B='[\n  {\n    "name": "MyYTMusic",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "cookie": "__Secure-1PSIDTS=sidts-CjEB3EgAEvCd-......",\n      // either cookie or id/secret needs to be provided\n      "clientId": "891098404....apps.googleusercontent.com",\n      "clientSecret": "GOCS..."\n\n      // optional\n      //"redirectUri": "http://my.custom.tld/api/ytmusic/callback?name=MyYTMusic"\n    },\n    "options": {\n      "logDiff": true\n    }\n  }\n]\n',q='[\n  {\n    "enable": true,\n    "name": "MyVlc",\n    "data": {\n      "url": "localhost:8080",\n      "password": "changeme"\n    }\n  }\n]\n',G={sidebar_position:2,title:"Overview",toc_max_heading_level:3},J="Configuration",K={},X=[{value:"Configuration Types",id:"configuration-types",level:2},{value:"Application Options",id:"application-options",level:2},{value:"Base URL",id:"base-url",level:4},{value:"Debug Mode",id:"debug-mode",level:4},{value:"Disable Web",id:"disable-web",level:4},{value:"Common Source Functionality",id:"common-source-functionality",level:2},{value:"Scrobble Thresholds",id:"scrobble-thresholds",level:4},{value:"Should Scrobble Behavior",id:"should-scrobble-behavior",level:4},{value:"Source Configurations",id:"source-configurations",level:2},{value:"Spotify",id:"spotify",level:3},{value:"Configuration",id:"configuration-1",level:4},{value:"Plex",id:"plex",level:3},{value:"Defaults",id:"defaults",level:6},{value:"Only A Specific User",id:"only-a-specific-user",level:6},{value:"A Specific User + Defaults",id:"a-specific-user--defaults",level:6},{value:"Configuration",id:"configuration-2",level:4},{value:"Configuration",id:"configuration-3",level:5},{value:"Tautulli",id:"tautulli",level:3},{value:"Configuration",id:"configuration-4",level:4},{value:"Subsonic",id:"subsonic",level:3},{value:"Configuration",id:"configuration-5",level:4},{value:"Jellyfin",id:"jellyfin",level:3},{value:"Configuration",id:"configuration-6",level:4},{value:"Last.fm (Source)",id:"lastfm-source",level:3},{value:"Configuration",id:"configuration-7",level:4},{value:"Last.fm (Endpoint)",id:"lastfm-endpoint",level:3},{value:"URL",id:"url",level:5},{value:"Configuration",id:"configuration-8",level:4},{value:"Listenbrainz (Source)",id:"listenbrainz-source",level:3},{value:"Configuration",id:"configuration-9",level:4},{value:"Listenbrainz (Endpoint)",id:"listenbrainz-endpoint",level:3},{value:"URL",id:"url-1",level:5},{value:"Token",id:"token",level:5},{value:"Configuration",id:"configuration-10",level:4},{value:"Deezer",id:"deezer",level:3},{value:"Retrieve ARL",id:"retrieve-arl",level:5},{value:"Configuration",id:"configuration-11",level:4},{value:"Duplicate detection",id:"duplicate-detection",level:5},{value:"Configuration",id:"configuration-12",level:4},{value:"Youtube Music",id:"youtube-music",level:3},{value:"Authentication",id:"authentication",level:4},{value:"Configuration",id:"configuration-13",level:4},{value:"MPRIS",id:"mpris",level:3},{value:"Configuration",id:"configuration-14",level:4},{value:"Mopidy",id:"mopidy",level:3},{value:"Configuration",id:"mopidy-config",level:4},{value:"Configuration Options",id:"configuration-options",level:4},{value:"URL",id:"url-2",level:6},{value:"URI Blacklist/Whitelist",id:"uri-blacklistwhitelist",level:5},{value:"Album Blacklist",id:"album-blacklist",level:5},{value:"JRiver",id:"jriver",level:3},{value:"Configuration",id:"jriver-config",level:4},{value:"URL",id:"url-3",level:5},{value:"Kodi",id:"kodi",level:3},{value:"Configuration",id:"kodi-config",level:4},{value:"URL",id:"url-4",level:5},{value:"WebScrobbler",id:"webscrobbler",level:3},{value:"Configuration",id:"webscrobbler-config",level:4},{value:"Multiple Users",id:"multiple-users",level:5},{value:"Connectors Black/Whitelist",id:"connectors-blackwhitelist",level:6},{value:"Google Cast (Chromecast)",id:"google-cast-chromecast",level:3},{value:"Configuration",id:"configuration-15",level:4},{value:"Connecting Devices",id:"connecting-devices",level:4},{value:"mDNS Discovery",id:"mdns-discovery",level:6},{value:"What Media Does MS Scrobble?",id:"what-media-does-ms-scrobble",level:4},{value:"Allow Unknown Media Type",id:"allow-unknown-media-type",level:5},{value:"Forcing Media Tracking",id:"forcing-media-tracking",level:5},{value:"Cast Troubleshooting",id:"cast-troubleshooting",level:4},{value:"Musikcube",id:"musikcube",level:3},{value:"Configuration",id:"configuration-16",level:4},{value:"MPD (Music Player Daemon)",id:"mpd-music-player-daemon",level:3},{value:"Configuration",id:"configuration-17",level:4},{value:"VLC",id:"vlc",level:3},{value:"Enable HTTP Interface",id:"enable-http-interface",level:4},{value:"Setting VLC Interface and Port",id:"setting-vlc-interface-and-port",level:5},{value:"Configuration",id:"configuration-18",level:4},{value:"Filename Parsing",id:"filename-parsing",level:4},{value:"Vlc Information Reporting",id:"vlc-information-reporting",level:4},{value:"Azuracast",id:"azuracast",level:3},{value:"URL",id:"url-5",level:5},{value:"Scrobble Behavior",id:"scrobble-behavior",level:5},{value:"Configuration",id:"configuration-19",level:4},{value:"Yamaha MusicCast",id:"yamaha-musiccast",level:3},{value:"URL",id:"url-6",level:5},{value:"Configuration",id:"configuration-20",level:4},{value:"Icecast",id:"icecast",level:3},{value:"URL and Sources",id:"url-and-sources",level:5},{value:"Configuration",id:"configuration-21",level:4},{value:"Client Configurations",id:"client-configurations",level:2},{value:"Maloja",id:"maloja",level:3},{value:"Configuration",id:"configuration-22",level:4},{value:"Last.fm",id:"lastfm",level:3},{value:"Configuration",id:"configuration-23",level:4},{value:"Listenbrainz",id:"listenbrainz",level:3},{value:"Configuration",id:"configuration-24",level:4},{value:"Monitoring",id:"monitoring",level:2},{value:"Webhook Configurations",id:"webhook-configurations",level:3},{value:"Gotify",id:"gotify",level:4},{value:"Ntfy",id:"ntfy",level:4},{value:"Apprise",id:"apprise",level:4},{value:"Health Endpoint",id:"health-endpoint",level:3}];function Z(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",header:"header",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components},{Details:i}=n;return i||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Check the ",(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/FAQ",children:(0,r.jsx)(n.strong,{children:"FAQ"})})," if you have any issues after configuration!"]})}),"\n",(0,r.jsx)(n.h2,{id:"configuration-types",children:"Configuration Types"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.a,{href:"/#how-does-multi-scrobbler-ms-work",children:[(0,r.jsx)(n.strong,{children:"Sources"})," and ",(0,r.jsx)(n.strong,{children:"Clients"})]})," are configured using:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"environmental (ENV) variables"}),"\n",(0,r.jsx)(n.li,{children:"client/source specific json config files"}),"\n",(0,r.jsx)(n.li,{children:"an all-in-one json config file"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"MS will parse configuration from all configuration types."})," You can mix and match configurations but it is generally better to stick to one or the other."]}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsxs)(o.default,{value:"env",label:"ENV",children:[(0,r.jsx)(n.p,{children:"This is done by passing environmental variables and so does not require any files to run MS."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Using a docker container EX ",(0,r.jsx)(n.code,{children:'docker run -e "SPOTIFY_CLIENT_ID=yourId" -e "SPOTIFY_CLIENT_SECRET=yourSecret" ...'})]}),"\n",(0,r.jsxs)(n.li,{children:["Using a local installations by exporting variables before running MS EX ",(0,r.jsx)(n.code,{children:"SPOTIFY_CLIENT_ID=yourId SPOTIFY_CLIENT_SECRET=yourSecret node index.js"})]}),"\n"]}),(0,r.jsx)(n.p,{children:"Use ENV-based configuration if:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You are the only person for whom MS is scrobbling for"}),"\n",(0,r.jsxs)(n.li,{children:["You have a very simple setup for MS such as one scrobble ",(0,r.jsx)(n.a,{href:"/#client",children:"Client"})," and one ",(0,r.jsx)(n.a,{href:"/#source",children:"Source"})," IE Plex -> Maloja"]}),"\n"]})]}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(n.p,{children:["MS will parse configuration files located in the directory specified by the ",(0,r.jsx)(n.code,{children:"CONFIG_DIR"})," environmental variable. This variable defaults to:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Local installation -> ",(0,r.jsx)(n.code,{children:"PROJECT_DIR/config"})]}),"\n",(0,r.jsxs)(n.li,{children:["Docker -> ",(0,r.jsx)(n.code,{children:"/config"})," (in the container) -- see the ",(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/installation/#docker",children:"install docs"})," for how to configure this correctly"]}),"\n"]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Use File-based configuration if..."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["You have many ",(0,r.jsx)(n.a,{href:"/#source",children:"Sources"})]}),"\n",(0,r.jsxs)(n.li,{children:["You have many of each type of ",(0,r.jsx)(n.strong,{children:"Source"})," you want to scrobble from IE 2x Plex accounts, 3x Spotify accounts, 1x\nFunkwhale..."]}),"\n",(0,r.jsxs)(n.li,{children:["You have more than one scrobble ",(0,r.jsx)(n.strong,{children:"Client"})," you want to scrobble to IE multiple Maloja servers"]}),"\n",(0,r.jsxs)(n.li,{children:["You want only some ",(0,r.jsx)(n.strong,{children:"Sources"})," to scrobble to some ",(0,r.jsx)(n.strong,{children:"Clients"})," IE Fred's Spotify account scrobbles to Fred's Maloja\nserver, but not Mary's Maloja server"]}),"\n"]})]}),(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["There are ",(0,r.jsx)(n.strong,{children:"example configurations"})," for all Source/Client types and AIO config located in the ",(0,r.jsx)(n.a,{href:"https://github.com/FoxxMD/multi-scrobbler/tree/master/config",children:(0,r.jsx)(n.code,{children:"/config"})})," directory of this project. These can be used as-is by renaming them to ",(0,r.jsx)(n.code,{children:".json"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"For docker/flatpak installations these examples are copied to your configuration directory on first-time use."}),"\n",(0,r.jsxs)(n.li,{children:["There is also a ",(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/configuration/kitchensink",children:(0,r.jsx)(n.strong,{children:"kitchensink example"})})," that provides examples of using all sources/clients in a complex configuration."]}),"\n"]})}),(0,r.jsxs)(n.p,{children:["Each file is named by the ",(0,r.jsx)(n.strong,{children:"type"})," of the Client/Source found in below sections. Each file as an ",(0,r.jsx)(n.strong,{children:"array"})," of that type of Client/Source."]}),(0,r.jsx)(n.p,{children:"Example directory structure:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/CONFIG_DIR\n    plex.json\n    spotify.json\n    maloja.json\n"})}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Config Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/spotify.json",language:"json5",children:z})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"File AIO",children:[(0,r.jsxs)(n.p,{children:["MS will parse an ",(0,r.jsx)(n.strong,{children:"all-in-one"})," configuration file located in the directory specified by the ",(0,r.jsx)(n.code,{children:"CONFIG_DIR"})," environmental variable. This variable defaults to:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Local installation -> ",(0,r.jsx)(n.code,{children:"PROJECT_DIR/config/config.json"})]}),"\n",(0,r.jsxs)(n.li,{children:["Docker -> ",(0,r.jsx)(n.code,{children:"/config/config.json"})," (in the container) -- see the ",(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/installation/#docker",children:"install docs"})," for how to configure this correctly"]}),"\n"]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Use AIO-based configuration if..."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["You have many ",(0,r.jsx)(n.a,{href:"/#source",children:"Sources"})]}),"\n",(0,r.jsxs)(n.li,{children:["You have many of each type of ",(0,r.jsx)(n.strong,{children:"Source"})," you want to scrobble from IE 2x Plex accounts, 3x Spotify accounts, 1x\nFunkwhale..."]}),"\n",(0,r.jsxs)(n.li,{children:["You have more than one scrobble ",(0,r.jsx)(n.strong,{children:"Client"})," you want to scrobble to IE multiple Maloja servers"]}),"\n",(0,r.jsxs)(n.li,{children:["You want only some ",(0,r.jsx)(n.strong,{children:"Sources"})," to scrobble to some ",(0,r.jsx)(n.strong,{children:"Clients"})," IE Fred's Spotify account scrobbles to Fred's Maloja\nserver, but not Mary's Maloja server"]}),"\n"]})]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The AIO config also enables setting default options for sources/clients as well as global options for MS itself."})}),(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["An example AIO config files can be found in the project directory at ",(0,r.jsx)(n.a,{href:"https://github.com/FoxxMD/multi-scrobbler/tree/master/config/config.json.example",children:(0,r.jsx)(n.code,{children:"/config/config.json.example"})})]}),"\n",(0,r.jsx)(n.li,{children:"For docker/flatpak installations this example is copied to your configuration directory on first-time use."}),"\n",(0,r.jsxs)(n.li,{children:["There is also a ",(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/configuration/kitchensink",children:(0,r.jsx)(n.strong,{children:"kitchensink example"})})," that provides examples of using all sources/clients in a complex configuration."]}),"\n"]})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://json-schema.app/view/%23?url=https%3A%2F%2Fraw.githubusercontent.com%2FFoxxMD%2Fmulti-scrobbler%2Fmaster%2Fsrc%2Fbackend%2Fcommon%2Fschema%2Faio.json",children:(0,r.jsx)(n.strong,{children:"Explore the schema for this configuration, along with an example generator and validator, here"})})}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Config Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/config.json",language:"json5",children:'{\n  "debugMode": false,\n  "disableWeb": false,\n  "sourceDefaults": {\n    "logPayload": false,\n    "logFilterFailure": "warn",\n    "logPlayerState": false,\n    "scrobbleThresholds": {\n      "duration": 30,\n      "percent": 50\n    },\n    "maxPollRetries": 1,\n    "maxRequestRetries": 1,\n    "retryMultiplier": 1.5\n  },\n  "clientDefaults": {\n    "maxRequestRetries": 1,\n    "retryMultiplier": 1.5\n  },\n  "sources": [\n    {\n      "type": "spotify",\n      "enable": true,\n      "clients": ["myConfig"],\n      "name": "mySpotifySource",\n      "data": {\n        "clientId": "a89cba1569901a0671d5a9875fed4be1",\n        "clientSecret": "ec42e09d5ae0ee0f0816ca151008412a",\n        "redirectUri": "http://localhost:9078/callback"\n      }\n    }\n  ],\n  "clients": [\n    {\n      "type": "maloja",\n      "enable": true,\n      "name": "myConfig",\n      "data": {\n        "url": "http://localhost:42010",\n        "apiKey": "myMalojaKey"\n      }\n    }\n  ],\n  "webhooks": [\n    {\n      "name": "FirstGotifyServer",\n      "type": "gotify",\n      "url": "http://localhost:8070",\n      "token": "MyGotifyToken",\n      "priorities": {\n        "info": 5,\n        "warn": 7,\n        "error": 10\n      }\n    },\n    {\n      "type": "ntfy",\n      "name": "MyNtfyFriendlyNameForLogs",\n      "url": "http://localhost:9991",\n      "topic": "MyMultiScrobblerTopic",\n      "username": "Optional",\n      "password": "Optional",\n      "priorities": {\n        "info": 3,\n        "warn": 4,\n        "error": 5\n      }\n    }\n  ]\n}\n'})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"application-options",children:"Application Options"}),"\n",(0,r.jsx)(n.p,{children:"These options affect multi-scrobbler's behavior and are not specific to any source/client."}),"\n",(0,r.jsx)(n.h4,{id:"base-url",children:"Base URL"}),"\n",(0,r.jsxs)(n.p,{children:["Defines the URL that is used to generate default redirect URLs for authentication on ",(0,r.jsx)(n.a,{href:"#spotify",children:"spotify"})," and ",(0,r.jsx)(n.a,{href:"#lastfm",children:"lastfm"})," -- as well as some logging hints."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Default => ",(0,r.jsx)(n.code,{children:"http://localhost:9078"})]}),"\n",(0,r.jsxs)(n.li,{children:["Set with ",(0,r.jsx)(n.a,{href:"./?configType=env#configuration-types",children:"ENV"})," ",(0,r.jsx)(n.code,{children:"BASE_URL"})," or ",(0,r.jsx)(n.code,{children:"baseUrl"})," ",(0,r.jsx)(n.a,{href:"./?configType=aio#configuration-types",children:"all-in-one configuration"})]}),"\n",(0,r.jsxs)(n.li,{children:["If protocol is ",(0,r.jsx)(n.code,{children:"http"})," or no protocol is specified MS will try to use port ",(0,r.jsx)(n.code,{children:"9078"})," -- to override this explicitly set the port or use ",(0,r.jsx)(n.code,{children:"https"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Useful when running with ",(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/installation/#docker",children:"docker"})," so that you do not need to specify redirect URLs for each configuration."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsxs)(n.p,{children:["EX Lastfm Redirect Url is ",(0,r.jsx)(n.code,{children:"BASE_URL:PORT/lastfm/callback"})," (when no other redirectUri is specified for ",(0,r.jsx)(n.a,{href:"#lastfm",children:"lastfm configuration"}),")"]}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"BASE_URL"})}),(0,r.jsx)(n.th,{children:"Redirect URL"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"192.168.0.101"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://192.168.0.101:9078/lastfm/callback"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://my.domain.local"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://my.domain.local:9078/lastfm/callback"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://192.168.0.101/my/subfolder"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://192.168.0.101:9078/my/subfolder/lastfm/callback"})})]})]})]}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"BASE_URL"})}),(0,r.jsx)(n.th,{children:"Redirect URL"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"my.domain.local:80"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://192.168.0.101:80/lastfm/callback"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"my.domain.local:9000"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://my.domain.local:9000/lastfm/callback"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"192.168.0.101:4000/my/subfolder"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://192.168.0.101:4000/my/subfolder/lastfm/callback"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"https://192.168.0.101"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"https://192.168.0.101:443/lastfm/callback"})})]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"debug-mode",children:"Debug Mode"}),"\n",(0,r.jsx)(n.p,{children:"Turning on Debug Mode will"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'override and enable all optional "debugging" options found in configuration'}),"\n",(0,r.jsx)(n.li,{children:"set log output to DEBUG"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Use this as a shortcut for enabling output that can be used for troubleshooting and issue reporting. Be aware that logs will likely be VERY noisy while Debug Mode is on. You should only have this mode on while gathering logs for troubleshooting and then turn it off afterwards."}),"\n",(0,r.jsxs)(n.p,{children:["To set debug mode either add it to ",(0,r.jsxs)(n.a,{href:"./?configType=aio#configuration-types",children:["AIO ",(0,r.jsx)(n.code,{children:"config.json"})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="config.json"',children:'{\n    "debugMode": true,\n    "sources": [...],\n    // ...\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["or set the ENV ",(0,r.jsx)(n.code,{children:"DEBUG_MODE=true"})]}),"\n",(0,r.jsx)(n.h4,{id:"disable-web",children:"Disable Web"}),"\n",(0,r.jsx)(n.p,{children:"If you do not need the dashboard and/or ingress sources, or have security concerns about ingress and cannot control your hosting environment, the web server and API can be disabled."}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["Any ",(0,r.jsx)(n.strong,{children:"ingress-based sources will be unusable"})," (Tautulli, Webscrobbler, etc...) if this is disabled."]})}),"\n",(0,r.jsx)(n.p,{children:"Disable using either:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["ENV ",(0,r.jsx)(n.code,{children:"DISABLE_WEB=true"})]}),"\n",(0,r.jsxs)(n.li,{children:["In ",(0,r.jsx)(n.a,{href:"./?configType=aio#configuration-types",children:"All-in-One File"})," use the top-level property ",(0,r.jsx)(n.code,{children:'"disableWeb": true'})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-source-functionality",children:"Common Source Functionality"}),"\n",(0,r.jsx)(n.p,{children:"Some options and functionality is shared between all or some Sources. Detailed below is information on what these features are and how to use/configured them."}),"\n",(0,r.jsx)(n.h4,{id:"scrobble-thresholds",children:"Scrobble Thresholds"}),"\n",(0,r.jsx)(n.p,{children:"For Sources where multi-scrobbler monitors active listening, it uses one of two metrics to determine if a Song is scrobbable based on your listening:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"percent"})," of track listened to (50% or more)"]}),"\n",(0,r.jsxs)(n.li,{children:["or amount of time (",(0,r.jsx)(n.strong,{children:"duration"}),") track was listened to (4 minutes or more)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["These default values are based on ",(0,r.jsx)(n.a,{href:"https://www.last.fm/api/scrobbling#when-is-a-scrobble-a-scrobble",children:"last.fm's scrobble guidance."})]}),"\n",(0,r.jsxs)(n.p,{children:["Each Source can have these values customized using values in the Source's ",(0,r.jsx)(n.code,{children:"options"})," in ",(0,r.jsx)(n.a,{href:"./?configType=file#configuration-types",children:"file or aio config"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="azuracast.json"',children:'{\n    "data": {\n        // ...\n    },\n    "options": {\n        "scrobbleThresholds": {\n            "duration": 40, // scrobbable if listened to for 40 seconds or more\n            "percent": 20   // scrobbable if listened to for 20% or more of the track\'s length\n        }\n    }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["These can also be configured ",(0,r.jsx)(n.strong,{children:"globally"})," for all Sources using ENVs:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"SOURCE_SCROBBLE_DURATION=40\nSOURCE_SCROBBLE_PERCENT=20\n"})}),"\n",(0,r.jsx)(n.h4,{id:"should-scrobble-behavior",children:"Should Scrobble Behavior"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"This feature is currently available only for some Sources. Check each Source's documentation to see if it supported."})}),"\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.em,{children:"most"})," Sources multi-scrobbler can determine if a user is listening and scrobble automatically. For Sources which multi-scrobbler cannot do this or require additional configuration, a user can indicate to MS that it should or should not scrobble. This action can be taken on the Web Dashboard by clicking the link next to ",(0,r.jsx)(n.strong,{children:"Should Scrobble"})," found in each Source's status card."]}),"\n",(0,r.jsxs)(n.p,{children:["Additionally, for these Sources, the default behavior for Scrobbling can be explicitly set by adding the following value to a Source's ",(0,r.jsx)(n.code,{children:"options"})," in ",(0,r.jsx)(n.a,{href:"./?configType=file#configuration-types",children:"file or aio config"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="azuracast.json"',children:'{\n    "data": {\n        // ...\n    },\n    "options": {\n        // set to true to always scrobble automatically\n        // set to false to never scrobble automatically\n        "systemScrobble": true\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"source-configurations",children:"Source Configurations"}),"\n",(0,r.jsx)(n.h3,{id:"spotify",children:(0,r.jsx)(n.a,{href:"https://www.spotify.com",children:"Spotify"})}),"\n",(0,r.jsxs)(n.p,{children:["To access your Spotify history you must ",(0,r.jsx)(n.a,{href:"https://developer.spotify.com/dashboard",children:"register an application"})," to get a\nClient ID/Secret. Make sure to also whitelist your redirect URI in the application settings."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["If your Spotify player has ",(0,r.jsx)(n.a,{href:"https://community.spotify.com/t5/FAQs/What-is-Automix/ta-p/5257278",children:"Automix"}),' enabled and Spotify uses it for your playlist/queue then MS cannot accurately determine when a track will end. This is because the track is "mixed" in your queue with a shorter play time than its actual length and ',(0,r.jsx)(n.a,{href:"https://community.spotify.com/t5/Spotify-for-Developers/Wrong-duration-ms-of-track-with-Automix/m-p/5429147",children:"Spotify does not report this modified play time in its API."})," This ",(0,r.jsx)(n.strong,{children:"does not affect MS's ability to scrobble"})," from Spotify but it will affect the accuracy of the duration MS reports was played."]})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-1",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SPOTIFY_CLIENT_ID"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SPOTIFY_CLIENT_SECRET"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SPOTIFY_REDIRECT_URI"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://localhost:9078/callback"})}),(0,r.jsxs)(n.td,{children:["URI must end in ",(0,r.jsx)(n.code,{children:"callback"})]})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/spotify.json",language:"json5",children:z})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"SpotifySourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:z,name:"spotify"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"SpotifySourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"plex",children:(0,r.jsx)(n.a,{href:"https://plex.tv",children:"Plex"})}),"\n",(0,r.jsxs)(t.default,{groupId:"plexType",queryString:!0,children:[(0,r.jsxs)(o.default,{value:"api",label:"API",children:[(0,r.jsxs)(n.p,{children:["Find your ",(0,r.jsx)(n.a,{href:"https://support.plex.tv/articles/204059436-finding-an-authentication-token-x-plex-token/",children:(0,r.jsx)(n.strong,{children:"Plex Token"})})," and make note of the ",(0,r.jsx)(n.strong,{children:"URL"})," and ",(0,r.jsx)(n.strong,{children:"Port"})," used to connect to your Plex instance."]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Allowed Users and Defaults"}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Multi-scrobbler will automatically scrobble for these users by default:"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The User authenticated with the Plex Token"}),"\n",(0,r.jsxs)(n.li,{children:["and the ",(0,r.jsx)(n.strong,{children:"Local User"})]}),"\n"]}),(0,r.jsxs)(n.p,{children:["The Local User (",(0,r.jsx)(n.code,{children:"PLEX_LOCAL_USER"}),") is how Plex identifies anyone directly accessing the Plex UI from a local IP (who does not need to login)."]}),(0,r.jsxs)(n.p,{children:["To allow MS to scrobble for other users use ",(0,r.jsx)(n.code,{children:"usersAllow"})," or ",(0,r.jsx)(n.code,{children:"PLEX_USERS_ALLOW"})," (env) from the below configuration docs. However, because you are overriding the default settings you must also explicitly list the authenticated user and the Local User if you want them to also be able to scrobble."]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.h6,{id:"defaults",children:"Defaults"}),(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"usersallow"})," and ",(0,r.jsx)(n.code,{children:"PLEX_USERS_ALLOW"})," are not defined then the Plex Token authenticated User and Local User will be scrobbled for."]}),(0,r.jsx)(n.h6,{id:"only-a-specific-user",children:"Only A Specific User"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"usersallow": ["SomeUser"]'})," or"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"PLEX_USERS_ALLOW: SomeUser"})}),"\n"]}),(0,r.jsxs)(n.p,{children:["Only the Plex user ",(0,r.jsx)(n.code,{children:"SomeUser"})," will be scrobbled for. The Plex Token authenticated user and the Local User will not be scrobbled for."]}),(0,r.jsx)(n.h6,{id:"a-specific-user--defaults",children:"A Specific User + Defaults"}),(0,r.jsxs)(n.p,{children:["(Assuming the plex authenticated user is ",(0,r.jsx)(n.code,{children:"FoxxMD"}),")"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"usersallow": ["FoxxMD", "PLEX_LOCAL_USER", "SomeUser"]'})," or"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"PLEX_USERS_ALLOW: FoxxMD,PLEX_LOCAL_USER,SomeUser"})}),"\n"]}),(0,r.jsx)(n.p,{children:"The Plex user SomeUser, the Plex Token authenticated user (FoxxMD) and the Local User will be scrobbled for."})]})]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Allowed Libraries and Defaults"}),(0,r.jsxs)(n.p,{children:["By default multi-scrobbler will only scrobble media found in Plex libraries that are labelled as ",(0,r.jsx)(n.strong,{children:"Music."})]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"librariesAllow"})," or ",(0,r.jsx)(n.code,{children:"PLEX_LIBRARIES_ALLOW"})," will override this"]}),"\n"]})]}),(0,r.jsx)(n.h4,{id:"configuration-2",children:"Configuration"}),(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_URL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Yes"})}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["The URL of the Plex server IE ",(0,r.jsx)(n.code,{children:"http://localhost:32400"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_TOKEN"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Yes"})}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["The ",(0,r.jsx)(n.strong,{children:"Plex Token"})," to use with the API"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_USERS_ALLOW"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of usernames (from Plex) to scrobble for"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_USERS_BLOCK"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of usernames (from Plex) to disallow scrobble for"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_DEVICES_ALLOW"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of devices to scrobble from"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_DEVICES_BLOCK"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of devices to disallow scrobbles from"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_LIBRARIES_ALLOW"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of libraries to allow scrobbles from"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_LIBRARIES_BLOCK"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of libraries to disallow scrobbles from"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/plex.json",language:"json5",children:O})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"PlexApiSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:O,name:"plex"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"PlexApiSourceConfig"})]})]})]})]}),(0,r.jsxs)(o.default,{value:"webhook",label:"Webhook (Deprecated)",children:[(0,r.jsxs)(n.admonition,{title:"Deprecated",type:"warning",children:[(0,r.jsxs)(n.p,{children:["Multi-scrobbler < 0.8.7 used ",(0,r.jsx)(n.a,{href:"https://support.plex.tv/articles/115002267687-webhooks",children:"webhooks"})," to support Plex scrobbling. This approach has been deprecated in favor of using Plex's API directly which has many benefits including ",(0,r.jsx)(n.strong,{children:"not requiring Plex Pass."})]}),(0,r.jsx)(n.p,{children:"The Plex Webhook Source will be removed in an upcoming release. You should migrate to the API source as soon as possible."})]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Migrating to API"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Follow the instructions in the API tab"}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"user"})," (",(0,r.jsx)(n.code,{children:"PLEX_USER"}),") setting has been renamed ",(0,r.jsx)(n.code,{children:"usersAllow"})," (",(0,r.jsx)(n.code,{children:"PLEX_USERS_ALLOW"}),")","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If you were using this filter to ensure only scrobbles from yourself were registered then you no longer need this setting -- by default MS will only scrobble for the user the Plex Token is from."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"servers"})," setting is no longer available as MS only scrobbles from the server the Plex token is from.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If you need to scrobble for multiple servers set up each server as a separate Plex API source with a separate token."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"libraries"})," setting has been renamed to ",(0,r.jsx)(n.code,{children:"librariesAllow"})]}),"\n"]})]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In the Plex dashboard Navigate to your ",(0,r.jsx)(n.strong,{children:"Account/Settings"})," and find the ",(0,r.jsx)(n.strong,{children:"Webhooks"})," page"]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Add Webhook"})]}),"\n",(0,r.jsxs)(n.li,{children:["URL -- ",(0,r.jsx)(n.code,{children:"http://localhost:9078/plex"})," (substitute your domain if different than the default)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Save Changes"})}),"\n"]}),(0,r.jsx)(n.h5,{id:"configuration-3",children:"Configuration"}),(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLEX_USER"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The a comma-delimited list of usernames to scrobble tracks for. No usernames specified means all tracks by all users will be scrobbled."})]})})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/plex.json",language:"json5",children:P})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"PlexSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:P,name:"plex"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"PlexSourceConfig"})]})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"tautulli",children:(0,r.jsx)(n.a,{href:"https://tautulli.com",children:"Tautulli"})}),"\n",(0,r.jsxs)(n.admonition,{title:"Deprecated",type:"warning",children:[(0,r.jsxs)(n.p,{children:["Multi-scrobbler >= 0.8.8 supports a Plex Source that ",(0,r.jsx)(n.a,{href:"./?plexType=api#plex",children:"directly uses the API"})," and removes the need to use Tautulli since it does not require Plex Pass."]}),(0,r.jsx)(n.p,{children:"The Tautuilli Source will be removed in an upcoming release. You should migrate to the Plex API source as soon as possible."})]}),"\n",(0,r.jsxs)(n.p,{children:["Check the ",(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/configuration/plex",children:"instructions"})," on how to setup a notification agent."]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-4",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TAUTULLI_USER"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The a comma-delimited list of usernames to scrobble tracks for. No usernames specified means all tracks by all users will be scrobbled."})]})})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/tautulli.json",language:"json5",children:Y})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"TautulliSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:Y,name:"tautulli"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"TautulliSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"subsonic",children:(0,r.jsx)(n.a,{href:"http://www.subsonic.org/",children:"Subsonic"})}),"\n",(0,r.jsxs)(n.p,{children:["Can use this source for any application that implements the ",(0,r.jsx)(n.a,{href:"http://www.subsonic.org/pages/api.jsp",children:"Subsonic API"})," and supports the ",(0,r.jsx)(n.a,{href:"http://www.subsonic.org/pages/api.jsp#getNowPlaying",children:(0,r.jsx)(n.code,{children:"getNowPlaying"})})," endpoint (such as ",(0,r.jsx)(n.a,{href:"https://airsonic.github.io/",children:"Airsonic"})," and ",(0,r.jsx)(n.a,{href:"https://www.navidrome.org/",children:"Navidrome"}),")"]}),"\n",(0,r.jsx)(n.admonition,{title:"Known Issues",type:"warning",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multiple artists are reported as one value and cannot be separated"}),"\n",(0,r.jsxs)(n.li,{children:["If using ",(0,r.jsx)(n.a,{href:"https://github.com/airsonic-advanced/airsonic-advanced",children:"Airsonic Advanced"})," the password used (under ",(0,r.jsx)(n.strong,{children:"Credentials"}),") must be ",(0,r.jsx)(n.strong,{children:"Decodable"})]}),"\n"]})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-5",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SUBSONIC_USER"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SUBSONIC_PASSWORD"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SUBSONIC_URL"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Base url of your subsonic-api server"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/subsonic.json",language:"json5",children:V})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"SubSonicSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:V,name:"subsonic"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"SubSonicSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"jellyfin",children:(0,r.jsx)(n.a,{href:"https://jellyfin.org/",children:"Jellyfin"})}),"\n",(0,r.jsxs)(n.admonition,{title:"Webhook Method Deprecated",type:"warning",children:[(0,r.jsxs)(n.p,{children:["In multi-scrobbler ",(0,r.jsx)(n.strong,{children:"below v0.8.4"})," communication with Jellyfin was done using Jellyfin's ",(0,r.jsx)(n.strong,{children:"Webhook"})," plugin. This has been deprecated in favor of directly using Jeyllfin's API for a better experience in multi-scrobbler."]}),(0,r.jsx)(n.p,{children:"Webhook functionality will be removed in an upcoming release of MS. If you are still using the Webhook method you should migrate to the API method as soon as possible."})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:["Migrating from Webhook (multi-scrobbler below ",(0,r.jsx)(n.code,{children:"v0.8.4"}),") to API"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Remove the Jellyfin ",(0,r.jsx)(n.strong,{children:"Webhook"})," plugin (if not using it for anything else)"]}),"\n",(0,r.jsx)(n.li,{children:"Follow the new instructions below (outside this section) to setup API usage"}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"servers"})," (",(0,r.jsx)(n.code,{children:"JELLYFIN_SERVERS"}),") setting is no longer available as MS only scrobbles from the server using the API anyways.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If you need to scrobble for multiple servers set up each server as a separate Jellyfin source"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"users"})," (",(0,r.jsx)(n.code,{children:"JELLYFIN_USER"}),") setting has been renamed ",(0,r.jsx)(n.code,{children:"usersAllow"})," (",(0,r.jsx)(n.code,{children:"JELLYFIN_USERS_ALLOWED"}),")","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If you were using this filter to ensure only scrobbles from yourself were registered then you no longer need this setting -- by default MS will only scrobble for the user authenticated with Jellyfin's API."}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsx)(n.p,{children:"Must be using Jellyfin 10.7 or greater"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create an ",(0,r.jsx)(n.strong,{children:"API Key"})," for multi-scrobbler","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In the Jellyfin desktop web UI Navigate to -> Administration -> Dashboard -> API Keys (",(0,r.jsx)(n.code,{children:"http://YOUR_JELLYIN_URL/web/index.html#!/apikeys.html"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.code,{children:"+"})," button and create a new key with ",(0,r.jsx)(n.strong,{children:"App name"})," ",(0,r.jsx)(n.code,{children:"multi-scrobbler"})]}),"\n",(0,r.jsx)(n.li,{children:"Copy the created API Key value for use in configuration below"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["It is ",(0,r.jsx)(n.strong,{children:"recommended"})," to use API Key + username but if you are not an admin for your Jellyfin instance you can also authenticate with your Jellyfin username and ",(0,r.jsx)(n.strong,{children:"password."})]}),"\n",(0,r.jsxs)(n.admonition,{title:"Important Defaults",type:"tip",children:[(0,r.jsx)(n.p,{children:"By default..."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["multi-scrobbler will ",(0,r.jsx)(n.strong,{children:"only"})," scrobble for the user authenticated with the API.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Allowed Users (",(0,r.jsx)(n.code,{children:"usersAllow"})," or ",(0,r.jsx)(n.code,{children:"JELLYFIN_USERS_ALLOW"}),") are only necessary if you want to scrobble for additional users."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["multi-scrobbler will ",(0,r.jsx)(n.strong,{children:"only"})," scrobble media found in Jellyfin libraries that were labelled as ",(0,r.jsx)(n.strong,{children:"Music."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"librariesAllow"})," or ",(0,r.jsx)(n.code,{children:"JELLYFIN_LIBRARIES_ALLOW"})," will override this"]}),"\n",(0,r.jsxs)(n.li,{children:["OR use ",(0,r.jsx)(n.code,{children:"additionalAllowedLibraryTypes"})," to allow more types (like ",(0,r.jsx)(n.code,{children:"mixed"})," or ",(0,r.jsx)(n.code,{children:"book"})," for audiobooks)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["multi-scrobbler will ",(0,r.jsx)(n.strong,{children:"only"})," scrobble media Jellyfin detects as ",(0,r.jsx)(n.strong,{children:"Audio."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["To force multi-scrobbler to scrobble when media is detected as ",(0,r.jsx)(n.strong,{children:"Unknown"})," use ",(0,r.jsx)(n.code,{children:'"allowUnknown": true'})," in file/aio configuration."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-6",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_URL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Yes"})}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["The URL of the Jellyfin server IE ",(0,r.jsx)(n.code,{children:"http://localhost:8096"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_USER"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Yes"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The user to authenticate with the API"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_APIKEY"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["The API Key to use for authentication ",(0,r.jsx)(n.strong,{children:"(Must provide either apikey or password)"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_PASSWORD"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["The password of the user to authenticate for. ",(0,r.jsx)(n.strong,{children:"(Must provide either apikey or password)"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_USERS_ALLOW"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of usernames (from Jellyfin) to scrobble for"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_USERS_BLOCK"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of usernames (from Jellyfin) to disallow scrobble for"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_DEVICES_ALLOW"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of devices to scrobble from"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_DEVICES_BLOCK"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of devices to disallow scrobbles from"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_LIBRARIES_ALLOW"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of libraries to allow scrobbles from"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"JELLYFIN_LIBRARIES_BLOCK"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-separated list of libraries to disallow scrobbles from"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/jellyfin.json",language:"json5",children:C})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"JellyApiSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:C,name:"jellyfin"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"JellyApiSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"lastfm-source",children:(0,r.jsx)(n.a,{href:"https://www.last.fm",children:"Last.fm (Source)"})}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"#lastfm",children:"Last.fm (Client)"})," setup for registration instructions."]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-7",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsx)(n.p,{children:"No support for ENV based for Last.fm as a client (only source)"})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(g,{title:"CONFIG_DIR/lastfm.json",data:k})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"LastfmSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:k,name:"lastfm"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"LastfmSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"lastfm-endpoint",children:(0,r.jsx)(n.a,{href:"https://www.last.fm",children:"Last.fm (Endpoint)"})}),"\n",(0,r.jsx)(n.p,{children:"This Source enables multi-scrobbler to accept scrobbles from outside applications as if it was a Last.fm server."}),"\n",(0,r.jsx)(n.h5,{id:"url",children:"URL"}),"\n",(0,r.jsxs)(n.p,{children:["If a ",(0,r.jsx)(n.strong,{children:"slug"})," is ",(0,r.jsx)(n.strong,{children:"not"})," provided in configuration then multi-scrobbler will accept Last.fm scrobbles at"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:9078/2.0/\n"})}),"\n",(0,r.jsx)(n.p,{children:'which is the "standard" Last.fm server path for scrobbling.'}),"\n",(0,r.jsx)(n.p,{children:"Use a slug only if you need to setup multiple Last.fm Endpoint sources and cannot use different tokens."}),"\n",(0,r.jsx)(n.p,{children:"If a slug is used then the URL will be:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:9078/api/lastfm/mySlug\n"})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-8",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Environmental Variable"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"LFMENDPOINT_ENABLE"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Use LFM Endpoint as a Source without any other configuration. Only required if slug/token are not provided as ENVs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"LFM_SLUG"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"(Optional) The URL suffix to use for accepting LFM scrobbles"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/endpointlfm.json",language:"json5",children:L})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"LastFMEndpointSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:L,name:"endpointlfm"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"LastFMEndpointSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"listenbrainz-source",children:(0,r.jsx)(n.a,{href:"https://listenbrainz.org",children:"Listenbrainz (Source)"})}),"\n",(0,r.jsx)(n.p,{children:"This Source monitors a Listenbrainz account's scrobble history and then re-scrobbles discovered tracks to configured clients."}),"\n",(0,r.jsxs)(n.p,{children:["You will need to run your own Listenbrainz server, ",(0,r.jsx)(n.a,{href:"https://koito.io",children:"Koito"})," server, or have an account ",(0,r.jsx)(n.a,{href:"https://listenbrainz.org/login/",children:"on the official instance"})]}),"\n",(0,r.jsxs)(n.p,{children:["On your ",(0,r.jsx)(n.a,{href:"https://listenbrainz.org/profile/",children:"profile page"})," find your ",(0,r.jsx)(n.strong,{children:"User Token"})," to use in the configuration."]}),"\n",(0,r.jsxs)(n.p,{children:["For Koito, ",(0,r.jsx)(n.a,{href:"https://koito.io/guides/scrobbler/",children:"create an API Key from your Account page."})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-9",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["You cannot use ENV variables shown in the ",(0,r.jsx)(n.a,{href:"#listenbrainz",children:"Listenbrainz Client config"})," -- multi-scrobbler assumes Listenbrainz ENVs are always used for the ",(0,r.jsx)(n.strong,{children:"client"})," configuration. You must use the ",(0,r.jsx)(n.strong,{children:"File"})," or AOI config to setup Listenbrainz as a Source."]})})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(g,{title:"CONFIG_DIR/listenbrainz.json",data:R})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"ListenBrainzSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:R,name:"listenbrainz"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"ListenBrainzSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"listenbrainz-endpoint",children:(0,r.jsx)(n.a,{href:"https://listenbrainz.org",children:"Listenbrainz (Endpoint)"})}),"\n",(0,r.jsxs)(n.p,{children:["This Source enables multi-scrobbler to accept scrobbles from outside applications as if it was a Listenbrainz server. An example of this would be configuring ",(0,r.jsx)(n.a,{href:"https://github.com/kawaiiDango/pano-scrobbler",children:"pano-scrobbler"})," with a custom Listenbrainz URL to point to multi-scrobbler."]}),"\n",(0,r.jsx)(n.h5,{id:"url-1",children:"URL"}),"\n",(0,r.jsxs)(n.p,{children:["If a ",(0,r.jsx)(n.strong,{children:"slug"})," is ",(0,r.jsx)(n.strong,{children:"not"})," provided in configuration then multi-scrobbler will accept Listenbrainz scrobbles at"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:9078/1/submit-listens\n"})}),"\n",(0,r.jsx)(n.p,{children:'which is the "standard" Listenbrainz server path for scrobbling.'}),"\n",(0,r.jsx)(n.p,{children:"Use a slug only if you need to setup multiple Listenbrainz Endpoint sources and cannot use different tokens."}),"\n",(0,r.jsx)(n.p,{children:"If a slug is used then the URL will be:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:9078/api/listenbrainz/mySlug\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Some Listenbrainz applications may require custom Listenbrainz URLs to be a real domain (",(0,r.jsx)(n.code,{children:"example.com"}),") and/or use SSL (",(0,r.jsx)(n.code,{children:"https://"}),"). In this case you should setup multi-scrobbler behind a reverse proxy to support this functionality. It is out of the scope of this project to do this solely within multi-scrobbler."]})}),"\n",(0,r.jsx)(n.h5,{id:"token",children:"Token"}),"\n",(0,r.jsxs)(n.p,{children:["Most Listenbrainz clients require a token (Authentication Token) to be provided during setup. This value can be anything you want, just make sure to use the same value for ",(0,r.jsx)(n.code,{children:"token"})," in your multi-scrobbler configuration for the endpoint."]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-10",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Environmental Variable"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"LZENDPOINT_ENABLE"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Use LZ Endpoint as a Source without any other configuration. Only required if slug/token are not provided as ENVs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"LZE_TOKEN"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:'LZ "Authentication Token" you provided to the scrobbling application'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"LZE_SLUG"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"(Optional) The URL suffix to use for accepting LZ scrobbles"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/endpointlz.json",language:"json5",children:T})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"ListenbrainzEndpointSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:T,name:"endpointlz"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"ListenbrainzEndpointSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"deezer",children:(0,r.jsx)(n.a,{href:"https://deezer.com/",children:"Deezer"})}),"\n",(0,r.jsxs)(t.default,{groupId:"deezerSource",queryString:!0,children:[(0,r.jsxs)(o.default,{value:"arl",label:"Unofficial ARL",children:[(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"This Source uses unofficial methods to access Deezer data that are likely in violation of Deezer's TOS. Deezer may change or remove these methods at any time, breaking functionality. Use this Source at your own risk."})}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["This Source will work only if you have a ",(0,r.jsx)(n.strong,{children:"Premium"})," Deezer account."]})}),(0,r.jsx)(n.h5,{id:"retrieve-arl",children:"Retrieve ARL"}),(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"arl"})," is a browser cookie that Deezer uses to store your login information. Multi-scrobbler uses the ",(0,r.jsx)(n.code,{children:"arl"})," value to make authorized requests to Deezer's API where it can retrieve listening history."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"After logging into Deezer"}),", use one of the methods below to retrieve the ",(0,r.jsx)(n.code,{children:"arl"})," cookie value:"]}),(0,r.jsxs)(t.default,{groupId:"arlRetrival",children:[(0,r.jsx)(o.default,{value:"chrome",label:"Chrome",children:(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"On deezer.com, press F12 to open the Developer Tools window."}),"\n",(0,r.jsx)(n.li,{children:"Go to the Applications tab. Press the '>>' More tabs icon if it's hidden."}),"\n",(0,r.jsxs)(n.li,{children:["Under the Cookies Filter, click deezer.com, then the text bar name ",(0,r.jsx)(n.code,{children:"arl"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Copy all the contents shown in the ",(0,r.jsx)(n.strong,{children:"Cookie Value"})," pane."]}),"\n"]})}),(0,r.jsx)(o.default,{value:"firefox",label:"Firefox",children:(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"On deezer.com, hit Ctrl+Shift+I to open Developer Tools"}),"\n",(0,r.jsx)(n.li,{children:"Go to the Storage Tab, then expand Cookies in the sidebar and select deezer.com"}),"\n",(0,r.jsxs)(n.li,{children:["Find the row with ",(0,r.jsx)(n.code,{children:"arl"})," as the name, then double click the Value column and right click -> copy the value"]}),"\n"]})})]}),(0,r.jsx)(n.h4,{id:"configuration-11",children:"Configuration"}),(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"DEEZER_ARL"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The ARL cookie value retrieved from your browser"})]})})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/deezer.json",language:"json5",children:w})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"DeezerSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:w,name:"deezer"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"DeezerSourceConfig"})]})]})]}),(0,r.jsx)(n.h5,{id:"duplicate-detection",children:"Duplicate detection"}),(0,r.jsxs)(n.p,{children:["Third party integrations with Deezer (Sonos) may cause Deezer to ",(0,r.jsx)(n.a,{href:"https://github.com/FoxxMD/multi-scrobbler/pull/296#issuecomment-2922374738",children:"report the same track many times in listening history."})," If you experience this issue modify your Deezer Source config (file-based only) to include the option ",(0,r.jsx)(n.code,{children:'"fuzzyDiscoveryIgnore": "aggressive"'})]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"deezer.json example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="deezer.json"',children:'[\n    {\n        "name": "MyDeezer",\n        "data": {\n            "arl": "UOsRPjT3U5Dhaaup3x...",\n        },\n        "options": {\n            "fuzzyDiscoveryIgnore": "aggressive"\n        }\n    }\n]\n'})})]}),(0,r.jsxs)(n.p,{children:["This option comes with some trade-offs: MS will aggressively detect repeated tracks within a window of time that should eliminate all duplicates. However, this will also prevent ",(0,r.jsx)(n.em,{children:"intentionally"})," repeated tracks from being scrobbled. See ",(0,r.jsx)(n.a,{href:"https://github.com/FoxxMD/multi-scrobbler/pull/296#issuecomment-2970417070",children:"this thread"})," for more information on how this works."]})]}),(0,r.jsxs)(o.default,{value:"official",label:"Official API",children:[(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"This Source is DEPRECATED because Deezer has dropped official API support."})," This Source will ",(0,r.jsx)(n.strong,{children:"not"})," be removed but no further support or fixes will be given. ",(0,r.jsx)(n.a,{href:"https://github.com/FoxxMD/multi-scrobbler/issues/175#issuecomment-2296776625",children:"See this issue for more discussion."})]}),(0,r.jsx)(n.p,{children:"Users cannot create new applications on Deezer Developers and there is no guarantee existing applications will continue to work."}),(0,r.jsx)(n.p,{children:"As a workaround consider:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Using the alternative ",(0,r.jsx)(n.a,{href:"./?deezerSource=arl#deezer",children:"Deezer Source that uses unofficial, internal API via ARL"})]}),"\n",(0,r.jsxs)(n.li,{children:["Connect Deezer with Last.fm and then use ",(0,r.jsx)(n.a,{href:"#lastfm-source",children:"Last.fm as a Source"})]}),"\n"]})]}),(0,r.jsxs)(n.p,{children:["Create a new application at ",(0,r.jsx)(n.a,{href:"https://developers.deezer.com/myapps",children:"Deezer Developers"})]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Application Domain must be the same as your multi-scrobbler domain. Default is ",(0,r.jsx)(n.code,{children:"localhost:9078"})]}),"\n",(0,r.jsxs)(n.li,{children:["Redirect URL must end in ",(0,r.jsx)(n.code,{children:"deezer/callback"})]}),"\n",(0,r.jsxs)(n.li,{children:["Default would be ",(0,r.jsx)(n.code,{children:"http://localhost:9078/deezer/callback"})]}),"\n"]}),(0,r.jsx)(n.p,{children:'After application creation you should have credentials displayed in the "My Apps" dashboard. You will need:'}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Application ID"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Secret Key"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Redirect URL"})," (if not the default)"]}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"If no access token is provided..."})}),(0,r.jsxs)(n.p,{children:["After starting multi-scrobbler with credentials in-place open the dashboard (",(0,r.jsx)(n.code,{children:"http://localhost:9078"}),") and find your Deezer source. Click ",(0,r.jsx)(n.strong,{children:"(Re)authenticate and (re)start polling"})," to start the login process. After login is complete polling will begin automatically."]}),(0,r.jsx)(n.h4,{id:"configuration-12",children:"Configuration"}),(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DEEZER_CLIENT_ID"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["Your ",(0,r.jsx)(n.strong,{children:"Application ID"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DEEZER_CLIENT_SECRET"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["Your ",(0,r.jsx)(n.strong,{children:"Secret Key"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DEEZER_REDIRECT_URI"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://localhost:9078/deezer/callback"})}),(0,r.jsxs)(n.td,{children:["URI must end in ",(0,r.jsx)(n.code,{children:"deezer/callback"})]})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/deezer.json",language:"json5",children:S})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"DeezerSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:S,name:"deezer"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"DeezerSourceConfig"})]})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"youtube-music",children:(0,r.jsx)(n.a,{href:"https://music.youtube.com",children:"Youtube Music"})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["Communication with YT Music is ",(0,r.jsx)(n.strong,{children:"unofficial"})," and not supported or endorsed by Google. This means that ",(0,r.jsx)(n.strong,{children:"this integration may stop working at any time"})," if Google decides to change how YT Music works in the browser."]})}),"\n",(0,r.jsxs)(n.admonition,{title:"Scrobble Troubleshooting",type:"tip",children:[(0,r.jsx)(n.p,{children:"Due to monitoring being unofficial, listening history from YTM can be inconsistent and can cause missed scrobbles."}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/FAQ#youtube-music-misses-or-duplicates-scrobbles",children:(0,r.jsx)(n.strong,{children:"See the FAQ"})})," for a detailed explanation, how to see more details about MS's detection of tracks, and how to properly report an issue."]})]}),"\n",(0,r.jsx)(n.h4,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsxs)(n.p,{children:["Only one of these methods needs to be used. ",(0,r.jsx)(n.strong,{children:"Cookies"})," are easier but ",(0,r.jsx)(n.strong,{children:"OAuth Client"}),"  may be more stable."]}),"\n",(0,r.jsxs)(t.default,{groupId:"ytmAuth",queryString:!0,children:[(0,r.jsxs)(o.default,{value:"cookie",label:"Cookies",children:[(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["If cookies stop working for you or are being invalidated often try switching to ",(0,r.jsx)(n.strong,{children:"OAuth Client"})," authentication."]})}),(0,r.jsx)(n.p,{children:"Use instructions from"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/patrickkfkan/Volumio-YouTube.js/wiki/How-to-obtain-Cookie",children:"https://github.com/patrickkfkan/Volumio-YouTube.js/wiki/How-to-obtain-Cookie"})," or"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://ytmusicapi.readthedocs.io/en/stable/setup/browser.html#copy-authentication-headers",children:"https://ytmusicapi.readthedocs.io/en/stable/setup/browser.html#copy-authentication-headers"})}),"\n"]}),(0,r.jsxs)(n.p,{children:["to get the ",(0,r.jsx)(n.strong,{children:"Cookie"})," value from a browser."]}),(0,r.jsxs)(n.p,{children:["It is highly recommended to ",(0,r.jsx)(n.a,{href:"https://github.com/LuanRT/YouTube.js/issues/803#issuecomment-2504032666",children:"get the cookie from an Incognito/Private Session"})," to limit the chance the session is invalidated from normal browsing."]}),(0,r.jsxs)(n.p,{children:["Add the cookie to your ",(0,r.jsx)(n.code,{children:"ytmusic.json"})," config in ",(0,r.jsx)(n.code,{children:"data"})," or as an ENV:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'    {\n    "type": "ytmusic",\n    "enable": true,\n    "name": "MyYTM",\n    "data": {\n        "cookie": "__Secure-1PSIDTS=sidts-CjEB3EgAEvCd-......"\n    },\n    "options": {\n        "logAuthUpdateChanges": true,\n        "logDiff": true\n    }\n}\n'})}),(0,r.jsx)(n.p,{children:"If MS gives you authentication errors (session invalidated) at some point in the future follow the same instructions to get new cookies."})]}),(0,r.jsxs)(o.default,{value:"oauth",label:"OAuth Client",children:[(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"This is likely to be the most stable method and least likely to be blocked or have authentication invalidated after an extended period. It requires more setup but is worth the effort."})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/LuanRT/YouTube.js/issues/803#issuecomment-2479689924",children:"Based on the instructions from here..."})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Login to ",(0,r.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"Google Cloud console"})," (create an account, if necessary)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://console.cloud.google.com/projectcreate",children:"Create a new project"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Go to APIs and services.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Configure the OAuth consent screen","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use the old experience if possible"}),"\n",(0,r.jsx)(n.li,{children:"If new is unavoidable then do not fill out any branding and under Authorized Domains you can delete the empty one (in order to save)"}),"\n",(0,r.jsx)(n.li,{children:"Add yourself as an authorized user"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Navigate to Credentials","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:['Create Credentials -> choose "OAuth client ID"',"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Application Type is ",(0,r.jsx)(n.strong,{children:"Web Application"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Name"})," is whatever you want, leave Authorization Javascript origins blank"]}),"\n",(0,r.jsxs)(n.li,{children:["Authorized redirect URIs","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["This must be ",(0,r.jsx)(n.strong,{children:"exactly"})," the same as what is displayed in MS! For now leave it blank so we can generate it from MS first"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Create","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In the newly created client popup save the ",(0,r.jsx)(n.strong,{children:"Client ID"})," and ",(0,r.jsx)(n.strong,{children:"Client Secret"}),", then copy them into ",(0,r.jsx)(n.code,{children:"ytmusic.json"})," or appropriate ENVs:"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "type": "ytmusic",\n    "enable": true,\n    "name": "MyYTM",\n    "data": {\n        "clientId": "8910....6jqupl.apps.googleusercontent.com",\n        "clientSecret": "GOCSPX-WGXL6BSuQ343..."\n    },\n    "options": {\n        "logAuthUpdateChanges": true,\n        "logDiff": true\n    }\n}\n'})}),(0,r.jsx)(n.p,{children:"Now, start MS and during the YTMusic startup it will log something like this:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Will use custom OAuth Client:\nClient ID: ...\nClient Secret: ...\nRedirect URI: http://localhost:9078/api/ytmusic/callback?name=MyYTM\n"})}),(0,r.jsxs)(n.p,{children:["If the beginning of the Redirect URI (before ",(0,r.jsx)(n.code,{children:"api"}),") is EXACTLY how you would reach the MS dashboard from your browser (EX ",(0,r.jsx)(n.code,{children:"http://localhost:9078"}),") then edit your google oauth client section for ",(0,r.jsx)(n.code,{children:"Authorized redirect URIs"})," and add the URL MS has displayed."]}),(0,r.jsxs)(n.p,{children:["If it is NOT EXACTLY the same you either need to set MS's ",(0,r.jsx)(n.a,{href:"https://foxxmd.github.io/multi-scrobbler/docs/configuration/#base-url",children:"base url"})," or you can provide your own (Custom) Redirect URI for MS to use by setting it in ",(0,r.jsx)(n.code,{children:"ytmusic.json"})," or ENV."]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Using a Custom Redirect URI"}),(0,r.jsx)(n.p,{children:"The three parts of the URL that must be the same:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["it must start with ",(0,r.jsx)(n.code,{children:"api"})," (after domain or subdirectory IE ",(0,r.jsx)(n.code,{children:"my.domain.tld/api..."})," or ",(0,r.jsx)(n.code,{children:"whatever.tld/subDir/api..."})]}),"\n",(0,r.jsxs)(n.li,{children:["it must end in ",(0,r.jsx)(n.code,{children:"ytmusic/callback"})]}),"\n",(0,r.jsxs)(n.li,{children:["It must include ",(0,r.jsx)(n.code,{children:"name=[NameOfSource]"})," in the query string"]}),"\n"]}),(0,r.jsxs)(n.p,{children:["Remember to add your custom URL to the ",(0,r.jsx)(n.code,{children:"Authorized redirect URIs"}),"  section in the google oauth client!"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "type": "ytmusic",\n    "enable": true,\n    "name": "MyYTM",\n    "data": {\n        "clientId": "8910....6jqupl.apps.googleusercontent.com",\n        "clientSecret": "GOCSPX-WGXL6BSuQ343...",\n        "redirectUri": "http://my.custom.domain/api/ytmusic/callback?name=MyYTM"\n    },\n    "options": {\n        "logAuthUpdateChanges": true,\n        "logDiff": true\n    }\n}\n'})})]}),(0,r.jsxs)(n.p,{children:["AFTER changing the Authorized redirect URIs on Google Cloud console you may need to wait a few minutes for it to take affect. Then restart MS. From the dashboard click ",(0,r.jsx)(n.code,{children:"(Re)authenticate"})," on the YTmusic source card and follow the auth flow:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:['On the screen about "testing" make sure you hit ',(0,r.jsx)(n.strong,{children:"Continue"})," (not Back To Safety)"]}),"\n",(0,r.jsxs)(n.li,{children:["Make sure to select ALL scopes/permissions/grants it asks you about","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Select what [YourAppName] can access"})," -> Select all"]}),"\n"]}),"\n"]}),"\n"]}),(0,r.jsxs)(n.p,{children:["Once the flow is finished MS will get the credentials and start polling automatically. You should not need to re-authenticate again after restarting MS as it saves the credentials to the ",(0,r.jsx)(n.code,{children:"/config"})," folder."]})]}),(0,r.jsxs)(o.default,{value:"ytt",label:"YoutubeTV",children:[(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["Using the built-in YoutubeTV authentication is unlikely to work due to ",(0,r.jsx)(n.a,{href:"https://github.com/yt-dlp/yt-dlp/issues/11462#issuecomment-2471703090",children:"Google restricting what permissions TV clients can have"}),". This authentication method should not be used."]})}),(0,r.jsx)(n.p,{children:"To authenticate start multi-scrobbler with an empty YT Music configuration. An authentication URL/code will be logged in additon to being available from the dashboard."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ERROR: Sign in with the code 'CLV-KFA-BVKY' using the authentication link on the dashboard or https://www.google.com/device\n"})}),(0,r.jsxs)(n.p,{children:["Visit the authentication URL and enter the code that was provided (also available on the dashboard). After completing the setup flow MS will log ",(0,r.jsx)(n.code,{children:"Auth success"})," and the YT Music dashboard card will display as ",(0,r.jsx)(n.strong,{children:"Idle"})," after refreshing. Click the ",(0,r.jsx)(n.strong,{children:"Start"})," link to begin monitoring."]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-13",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"YTM_COOKIE"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Value for Cookie Authentication"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"YTM_CLIENT_ID"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Client ID for OAuth Athentication"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"YTM_CLIENT_SECRET"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Client Secret for OAuth Athentication"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"YTM_REDIRECT_URI"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"A custom redirect URI for OAuth Athentication"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"YTM_LOG_DIFF"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"Log YTM history changes"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/ytmusic.json",language:"json5",children:B})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"YTMusicSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:B,name:"ytmusic"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"YTMusicSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"mpris",children:(0,r.jsx)(n.a,{href:"https://specifications.freedesktop.org/mpris-spec/latest/",children:"MPRIS"})}),"\n",(0,r.jsxs)(n.p,{children:["MPRIS is a standard interface for communicating with Music Players on ",(0,r.jsx)(n.strong,{children:"linux operating systems."})]}),"\n",(0,r.jsx)(n.p,{children:"If you run Linux and have a notification tray that shows what media you are listening to, you likely have access to MPRIS."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Notification Tray",src:s(1859).Z+"",width:"542",height:"592"})}),"\n",(0,r.jsxs)(n.p,{children:["multi-scrobbler can listen to this interface and scrobble tracks played by ",(0,r.jsx)(n.strong,{children:"any media player"})," that communicates to the operating system with MPRIS."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["multi-scrobbler needs to be running as a ",(0,r.jsx)(n.a,{href:"/multi-scrobbler/docs/installation/#nodejs",children:(0,r.jsx)(n.strong,{children:"Local Installation"})})," in order to use MPRIS. This cannot be used from docker."]})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-14",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MPRIS_ENABLE"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Use MPRIS as a Source (useful when you don't need any other options)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MPRIS_BLACKLIST"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-delimited list of player names not to scrobble from"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MPRIS_WHITELIST"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Comma-delimited list of players names to ONLY scrobble from. Overrides blacklist"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/mpris.json",language:"json5",children:D})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MPRISSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:D,name:"mpris"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MPRISSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"mopidy",children:(0,r.jsx)(n.a,{href:"https://mopidy.com/",children:"Mopidy"})}),"\n",(0,r.jsxs)(n.p,{children:["Mopidy is a headless music server that supports playing music from many ",(0,r.jsx)(n.a,{href:"https://mopidy.com/ext/",children:"standard and non-standard sources such as Pandora, Bandcamp, and Tunein."})]}),"\n",(0,r.jsx)(n.p,{children:"multi-scrobbler can scrobble tracks played from any Mopidy backend source, regardless of where you listen to them."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["You must have ",(0,r.jsx)(n.a,{href:"https://mopidy.com/ext/http",children:"Mopidy-HTTP extension"})," enabled for this integration to work."]})}),"\n",(0,r.jsx)(n.h4,{id:"mopidy-config",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsx)(n.p,{children:"No ENV support"})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/mopidy.json",language:"json5",children:N})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MopidySourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:N,name:"mopidy"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MopidySourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,r.jsx)(n.h6,{id:"url-2",children:"URL"}),"\n",(0,r.jsxs)(n.p,{children:["The URL used to connect to the Mopidy server, set in your ",(0,r.jsxs)(n.a,{href:"#mopidy-config",children:["file config as ",(0,r.jsx)(n.code,{children:"url"}),"."]})," The URL used to connect ultimately must be formed like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Syntax  => [protocol]://[hostname]:[port]/[path]\nDefault =>         ws://localhost:6680/mopidy/ws\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If any part of this URL is missing multi-scrobbler will use a default value. This also means that if any part of your URL is ",(0,r.jsx)(n.strong,{children:"not"})," standard you must explicitly define it."]}),"\n",(0,r.jsxs)(n.admonition,{title:"Mopidy Configuration",type:"tip",children:[(0,r.jsxs)(n.p,{children:["Make sure the hostname and port number match what is found in the Mopidy configuration file ",(0,r.jsx)(n.code,{children:"mopidy.conf"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[http]\nhostname = localhost\nport = 6680\n"})})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"URL Transform Examples"}),(0,r.jsxs)(n.p,{children:["Examples of a given ",(0,r.jsx)(n.code,{children:"url"})," in your file config and the final URL multi-scrobbler will use to connect to Mopidy:"]}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"url"})}),(0,r.jsx)(n.th,{children:"Transformed URL"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"(none set)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ws://localhost:6680/mopidy/ws"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mopidy.mydomain.com"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ws://mopidy.mydomain.com:6680/mopidy/ws/"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"192.168.0.101:3456"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ws://192.168.0.101:3456/mopidy/ws/"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mopidy.mydomain.com:80/MOPWS"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ws://mopidy.mydomain.com:80/MOPWS"})})]})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"uri-blacklistwhitelist",children:"URI Blacklist/Whitelist"}),"\n",(0,r.jsxs)(n.p,{children:["If you wish to disallow or only allow scrobbling from some sources played through Mopidy you can specify these using ",(0,r.jsx)(n.code,{children:"uriBlacklist"})," or ",(0,r.jsx)(n.code,{children:"uriWhitelist"})," in your config. multi-scrobbler will check the list to see if any string matches the START of the ",(0,r.jsx)(n.code,{children:"uri"})," on a track. If whitelist is used then blacklist is ignored. All strings are case-insensitive."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "uriBlacklist": ["soundcloud"]\n}\n'})}),(0,r.jsxs)(n.p,{children:["Will prevent multi-scrobbler from scrobbling any Mopidy track that start with a ",(0,r.jsx)(n.code,{children:"uri"})," like ",(0,r.jsx)(n.code,{children:"soundcloud:song:MySong-1234"})]})]}),"\n",(0,r.jsx)(n.h5,{id:"album-blacklist",children:"Album Blacklist"}),"\n",(0,r.jsx)(n.p,{children:'For certain sources (Soundcloud) Mopidy does not have all track info (Album) and will instead use "Soundcloud" as the Album name. You can prevent multi-scrobbler from using this bad Album data by adding the fake Album name to this list. Multi-scrobbler will still scrobble the track, just without the bad data. All strings are case-insensitive.'}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "albumBlacklist": ["SoundCloud", "Mixcloud"]\n}\n'})}),(0,r.jsx)(n.p,{children:"If a track would be scrobbled like"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Album: Soundcloud, Track: My Cool Track, Artist: A Cool Artist\n"})}),(0,r.jsx)(n.p,{children:"then multi-scrobbler will instead scrobble"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Track: My Cool Track, Artist: A Cool Artist\n"})})]}),"\n",(0,r.jsx)(n.h3,{id:"jriver",children:(0,r.jsx)(n.a,{href:"https://jriver.com/",children:"JRiver"})}),"\n",(0,r.jsxs)(n.p,{children:["In order for multi-scrobbler to communicate with JRiver you must have ",(0,r.jsx)(n.a,{href:"https://wiki.jriver.com/index.php/Web_Service_Interface#Documentation_of_Functions",children:"Web Server Interface"})," enabled. This can can be in the JRiver GUI:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Tools -> Options -> Media Network","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Check ",(0,r.jsx)(n.code,{children:"Use Media Network to share this library..."})]}),"\n",(0,r.jsxs)(n.li,{children:["If you have ",(0,r.jsx)(n.code,{children:"Authentication"})," checked you will need to provide the ",(0,r.jsx)(n.strong,{children:"Username"})," and ",(0,r.jsx)(n.strong,{children:"Password"})," in the ENV/File configuration below."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"jriver-config",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"JRIVER_URL"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://localhost:52199/MCWS/v1/",children:"http://localhost:52199/MCWS/v1/"})}),(0,r.jsx)(n.td,{children:"The URL of the JRiver server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"JRIVER_USERNAME"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"If authentication is enabled, the username set"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"JRIVER_PASSWORD"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"If authenticated is enabled, the password set"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/jriver.json",language:"json5",children:A})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"JRiverSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:A,name:"jriver"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"JRiverSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"url-3",children:"URL"}),"\n",(0,r.jsxs)(n.p,{children:["The URL used to connect to JRiver, set in your ",(0,r.jsxs)(n.a,{href:"#jriver-config",children:["file config as ",(0,r.jsx)(n.code,{children:"url"}),"."]})," The URL used to connect ultimately must be formed like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Syntax  => [protocol]://[hostname]:[port]/[path]\nDefault =>       http://localhost:52199/MCWS/v1/\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If any part of this URL is missing multi-scrobbler will use a default value. This also means that if any part of your URL is ",(0,r.jsx)(n.strong,{children:"not"})," standard you must explicitly define it."]}),"\n",(0,r.jsx)(n.admonition,{title:"Jriver Settings",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Make sure the port number matches what is found in ",(0,r.jsx)(n.code,{children:"Advanced"})," section in the ",(0,r.jsx)(n.a,{href:"#jriver",children:"Media Network"})," options."]}),"\n",(0,r.jsxs)(n.li,{children:["If your installation is on the same machine but you cannot connect using ",(0,r.jsx)(n.code,{children:"localhost"})," try ",(0,r.jsx)(n.code,{children:"0.0.0.0"})," instead."]}),"\n"]})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"URL Transform Examples"}),(0,r.jsxs)(n.p,{children:["Examples of a given ",(0,r.jsx)(n.code,{children:"url"})," in your file config and the final URL multi-scrobbler will use to connect to JRiver:"]}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"url"})}),(0,r.jsx)(n.th,{children:"Transformed URL"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"(none set)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://localhost:52199/MCWS/v1/"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"jriver.mydomain.com"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://jriver.mydomain.com:52199/MCWS/v1/"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"192.168.0.101:3456"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://192.168.0.101:3456/MCWS/v1/"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mydomain.com:80/jriverReverse/MCWS/v1/"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mydomain.com:80/jriverReverse/MCWS/v1/"})})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"kodi",children:(0,r.jsx)(n.a,{href:"https://kodi.tv/",children:"Kodi"})}),"\n",(0,r.jsxs)(n.p,{children:["In order for multi-scrobbler to communicate with Kodi you must have the ",(0,r.jsx)(n.a,{href:"https://kodi.wiki/view/Web_interface",children:"Web Interface"})," enabled. This can be done in the Kodi GUI:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Settings -> Services -> Control","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Check ",(0,r.jsx)(n.code,{children:"Allow remote control via HTTP"})]}),"\n",(0,r.jsxs)(n.li,{children:["Ensure you have a ",(0,r.jsx)(n.strong,{children:"Username"})," and ",(0,r.jsx)(n.strong,{children:"Password"})," set, you will need to provide them in the ENV/File configuration below."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"kodi-config",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"KODI_URL"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"http://localhost:8080/jsonrpc",children:"http://localhost:8080/jsonrpc"})}),(0,r.jsx)(n.td,{children:"The URL of the Kodi server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"KODI_USERNAME"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The username set"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"KODI_PASSWORD"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The password set"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/kodi.json",language:"json5",children:E})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"KodiSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:E,name:"kodi"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"KodiSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"url-4",children:"URL"}),"\n",(0,r.jsxs)(n.p,{children:["The URL used to connect to Kodi, set in your ",(0,r.jsxs)(n.a,{href:"#kodi-config",children:["file config as ",(0,r.jsx)(n.code,{children:"url"}),"."]})," The URL used to connect ultimately must be formed like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Syntax  => [protocol]://[hostname]:[port]/[path]\nDefault =>       http://localhost:8080/jsonrpc\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If any part of this URL is missing multi-scrobbler will use a default value. This also means that if any part of your URL is ",(0,r.jsx)(n.strong,{children:"not"})," standard you must explicitly define it."]}),"\n",(0,r.jsx)(n.admonition,{title:"Kodi Settings",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Make sure the port number matches what is found in ",(0,r.jsx)(n.strong,{children:"Port"})," in the ",(0,r.jsx)(n.a,{href:"#kodi",children:"Control"})," section mentioned above."]}),"\n",(0,r.jsxs)(n.li,{children:["If your installation is on the same machine but you cannot connect using ",(0,r.jsx)(n.code,{children:"localhost"})," try ",(0,r.jsx)(n.code,{children:"0.0.0.0"})," instead."]}),"\n"]})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"URL Transform Examples"}),(0,r.jsxs)(n.p,{children:["Examples of a given ",(0,r.jsx)(n.code,{children:"url"})," in your file config and the final URL multi-scrobbler will use to connect to Kodi:"]}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"url"})}),(0,r.jsx)(n.th,{children:"Transformed URL"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"(none set)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://localhost:8080/jsonrpc"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"kodi.mydomain.com"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://kodi.mydomain.com:8080/jsonrpc"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"192.168.0.101:3456"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://192.168.0.101:3456/jsonprc"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mydomain.com:80/kodiReverse/jsonrpc"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://mydomain.com:80/kodiReverse/jsonrpc"})})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"webscrobbler",children:(0,r.jsx)(n.a,{href:"https://web-scrobbler.com/",children:"WebScrobbler"})}),"\n",(0,r.jsx)(n.p,{children:"After installing the extension open the preferences/settings for it:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Under ",(0,r.jsx)(n.strong,{children:"Accounts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add Webhook"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["API URL: ",(0,r.jsx)(n.code,{children:"[YourMultiScrobblerInstance]/api/webscrobbler"})," EX ",(0,r.jsx)(n.code,{children:"http://localhost:9078/api/webscrobbler"})]}),"\n",(0,r.jsxs)(n.li,{children:["Application name: ",(0,r.jsx)(n.code,{children:"(whatever you want)"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Reload the extension after adding the webhook."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"On Firefox"})," - Only FQNs (domain.tld), ",(0,r.jsx)(n.code,{children:"localhost"}),", and ",(0,r.jsx)(n.code,{children:"127.0.0.1"})," are supported for API URL due to ",(0,r.jsx)(n.a,{href:"https://github.com/web-scrobbler/web-scrobbler/issues/4183#issuecomment-1749222006",children:"firefox requiring https"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"On Chromium-based Browsers"})," - Any domain will work for API URL"]}),"\n",(0,r.jsx)(n.li,{children:"All other browsers are untested"}),"\n"]})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["Multi-scrobbler is ",(0,r.jsx)(n.strong,{children:"not"})," designed to be publicly accessible from the internet. To use Webscrobbler outside your local network you should be accessing MS through a VPN or through a reverse proxy with some kind of authentication (though this is still not recommended)."]})}),"\n",(0,r.jsx)(n.h4,{id:"webscrobbler-config",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WS_ENABLE"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Set to 'true' to enable WS without needing to define other ENVs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WS_WHITELIST"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Only scrobble from these WebScrobbler Connectors. Comma-delimited list"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WS_BLACKLIST"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Do not scrobble from these WebScrobbler Connectors. Comma-delimited list"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/webscrobbler.json",language:"json5",children:W})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"WebScrobblerSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:W,name:"webscrobbler"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"WebScrobblerSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"multiple-users",children:"Multiple Users"}),"\n",(0,r.jsxs)(n.p,{children:["If you would like use multiple WebScrobbler sources they can be matched using a ",(0,r.jsx)(n.strong,{children:"slug"})," at the end of the ",(0,r.jsx)(n.strong,{children:"API URL."})," This requires using ",(0,r.jsx)(n.a,{href:"./?configType=file#webscrobbler-config",children:"a file-based config."})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="webscrobbler.json"',children:'[\n  {\n    "name": "aUserWS",\n    "clients": [\n      "client1Maloja"\n    ],\n    "data": {\n      "slug": "usera"\n    }\n  },\n  {\n    "name": "bUserWS",\n    "clients": [\n      "client2Maloja"\n    ],\n    "data": {\n      "slug": "userb"\n    }\n  }\n]\n'})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["To use ",(0,r.jsx)(n.code,{children:"aUserWS"})," source set ",(0,r.jsx)(n.strong,{children:"API URL"})," to ",(0,r.jsx)(n.code,{children:"http://localhost:9078/api/webscrobbler/usera"})]}),"\n",(0,r.jsxs)(n.li,{children:["To use ",(0,r.jsx)(n.code,{children:"bUserWS"})," source set ",(0,r.jsx)(n.strong,{children:"API URL"})," to ",(0,r.jsx)(n.code,{children:"http://localhost:9078/api/webscrobbler/userb"})]}),"\n"]}),(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"http://localhost:9078/api/webscrobbler"})," is matched with the first source that ",(0,r.jsx)(n.em,{children:"that does not have a slug defined."})]})})]}),"\n",(0,r.jsx)(n.h6,{id:"connectors-blackwhitelist",children:"Connectors Black/Whitelist"}),"\n",(0,r.jsxs)(n.p,{children:["MS can be configured to only scrobble, or NOT scrobble, from some WS connectors. Use the name of the website from the ",(0,r.jsx)(n.a,{href:"https://web-scrobbler.com/",children:"supported websites"})," or from the ",(0,r.jsx)(n.strong,{children:"Connectors"})," tab in the extension."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["This affects ",(0,r.jsx)(n.strong,{children:"only"})," MS's behavior and does not affect the general connector behavior you have configured within the WebScrobbler extension."]})}),"\n",(0,r.jsx)(n.h3,{id:"google-cast-chromecast",children:(0,r.jsx)(n.a,{href:"https://www.google.com/chromecast/built-in/",children:"Google Cast (Chromecast)"})}),"\n",(0,r.jsxs)(n.p,{children:["If your media device can be ",(0,r.jsx)(n.strong,{children:"Cast"})," to using this button ",(0,r.jsx)(n.img,{src:"https://upload.wikimedia.org/wikipedia/commons/2/26/Chromecast_cast_button_icon.svg",alt:"Chromecast Icon"})," on your phone/computer then multi-scrobbler can monitor it in order to scrobble music you play."]}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.p,{children:["Google Cast support is ",(0,r.jsx)(n.strong,{children:"experimental"}),". You may experience crashes and errors while using this Source. Please open an issue if you experience problems and include all information detailed in the issue template to help debug your issue."]})]}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.p,{children:["This source relies on common, ",(0,r.jsx)(n.strong,{children:"basic"})," music data provided by the cast device which will always be less exhaustive than data parsed from full source integrations. If there is an existing ",(0,r.jsx)(n.a,{href:"#source-configurations",children:"Source"})," it is recommended to configure for it and blacklist the app on Google Cast, rather than relying solely on Google Cast for scrobbling."]})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-15",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsxs)(o.default,{value:"env",label:"ENV",children:[(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"#connecting-devices",children:"Manually configuring cast device connections"})," is only available through file-based config."]})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CC_ENABLE"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Set to 'true' to enable Cast monitoring without needing to define other ENVs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CC_WHITELIST_DEVICES"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Only scrobble from these Cast devices. Comma-delimited list. EX mini-home, family-tv"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CC_BLACKLIST_DEVICES"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Do not scrobble from these Cast devices. Comma-delimited list"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CC_WHITELIST_APPS"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Only scrobble from these casted Apps. Comma-delimited list. EX spotify, pandora"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CC_BLACKLIST_APPS"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Do not scrobble from these casted Apps. Comma-delimited list"})]})]})]})]}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/chromecast.json",language:"json5",children:v})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"ChromecastSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:v,name:"chromecast"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"ChromecastSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"connecting-devices",children:"Connecting Devices"}),"\n",(0,r.jsxs)(n.p,{children:["Cast devices can be manually configured using file-based configuration OR automatically discovered using ",(0,r.jsx)(n.strong,{children:"mDNS."})]}),"\n",(0,r.jsx)(n.h6,{id:"mdns-discovery",children:"mDNS Discovery"}),"\n",(0,r.jsxs)(n.p,{children:["The host machine running multi-scrobbler must be configured to allow ",(0,r.jsx)(n.a,{href:"https://book.hacktricks.xyz/network-services-pentesting/5353-udp-multicast-dns-mdns",children:"mDNS traffic on port 5353/UDP"}),"."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"OS Specific Instructions"}),(0,r.jsxs)(t.default,{children:[(0,r.jsxs)(o.default,{value:"linux",label:"Linux",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Docker"})}),(0,r.jsxs)(n.p,{children:["The host machine must have ",(0,r.jsx)(n.a,{href:"https://avahi.org/",children:"avahi-daemon"})," running to circumvent limitations with DNS resolution due to musl in Alpine. Most major linux distributions package avahi and many have it built-in. Once avahi is running you must pass D-Bus and the avahi daemon socket to your container like so:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker run ... -v /var/run/dbus:/var/run/dbus -v  	/var/run/avahi-daemon/socket:/var/run/avahi-daemon/socket ... foxxmd/multi-scrobbler\n"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Flatpak/Nodejs"})}),(0,r.jsx)(n.p,{children:"No additional steps are required."})]}),(0,r.jsxs)(o.default,{value:"windows",label:"Windows",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Docker"})}),(0,r.jsx)(n.p,{children:"Unsupported at this time."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Nodejs"})}),(0,r.jsx)(n.p,{children:"No additional steps are required."})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"what-media-does-ms-scrobble",children:"What Media Does MS Scrobble?"}),"\n",(0,r.jsxs)(n.p,{children:["Cast devices report what type of media the current activity is ",(0,r.jsxs)(n.a,{href:"https://developers.google.com/cast/docs/media/messages#MediaInformation",children:["(see ",(0,r.jsx)(n.code,{children:"metadata"})," property here)"]}),". The reported type is dependent on the application playing the media to correctly report it, the cast device does not magically know what the media is. If an application does not report a type it is always classified as ",(0,r.jsx)(n.code,{children:"unknown"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["By default, MS will only track media that is reported as ",(0,r.jsx)(n.code,{children:"MusicTrack"}),"."]})}),"\n",(0,r.jsx)(n.h5,{id:"allow-unknown-media-type",children:"Allow Unknown Media Type"}),"\n",(0,r.jsxs)(n.p,{children:["Media with an Unknown (",(0,r.jsx)(n.code,{children:"Generic"}),") media type can be explicitly allowed by setting ",(0,r.jsx)(n.code,{children:'"allowUnknownMedia": true'})," in the file-based configuration. This can also be configured to only allow unknown media types for specific applications by using a list of application names."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="chromecast.json"',children:'[\n  {\n    "name": "MyCast",\n    "type": "chromecast",\n    "data": {\n      // only allow unknown if app name contains any of these phrases\n      "allowUnknownMedia": ["smarttube", "default media receiver"]\n    },\n  }\n]\n'})})]}),"\n",(0,r.jsx)(n.h5,{id:"forcing-media-tracking",children:"Forcing Media Tracking"}),"\n",(0,r.jsxs)(n.p,{children:["MS can be forced to track media from an application regardless of media type. This is useful if an application incorrectly reports a media type you are sure should be music. Set ",(0,r.jsx)(n.code,{children:'"forceMediaRecognitionOn"'})," in the file-based configuration to a list of application names that should always be tracked."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="chromecast.json"',children:'[\n  {\n    "name": "MyCast",\n    "type": "chromecast",\n    "data": {\n      // media from applications that contains these phrases will always be tracked, regardless of media type reported\n      "forceMediaRecognitionOn": ["smarttube", "default media receiver"]\n    },\n  }\n]\n'})})]}),"\n",(0,r.jsx)(n.h4,{id:"cast-troubleshooting",children:"Cast Troubleshooting"}),"\n",(0,r.jsx)(n.p,{children:"Please include any/all logs with raw output if there are any errors encountered as this is critical to diagnosing issues."}),"\n",(0,r.jsxs)(n.p,{children:["To diagnose bad/incomplete track information or strange MS player behavior please turn on ",(0,r.jsx)(n.strong,{children:"payload logging"})," and include log output of the source running to help diagnose this issue. Either enable in config using the below example OR enable ",(0,r.jsx)(n.a,{href:"#debug-mode",children:"Debug Mode."})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="chromecast.json"',children:'[\n  {\n    "name": "MyCast",\n    "type": "chromecast",\n    "data": {\n      //...\n    },\n    "options": {\n      "logPayload": true\n    }\n  }\n]\n'})})]}),"\n",(0,r.jsx)(n.h3,{id:"musikcube",children:(0,r.jsx)(n.a,{href:"https://musikcube.com",children:"Musikcube"})}),"\n",(0,r.jsxs)(n.p,{children:["In order to use Musikcube configure it to accept ",(0,r.jsx)(n.a,{href:"https://github.com/clangen/musikcube/wiki/remote-api-documentation",children:"websocket connections"})," in ",(0,r.jsx)(n.strong,{children:"server setup"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Enable the ",(0,r.jsx)(n.strong,{children:"Metadata Server"})]}),"\n",(0,r.jsxs)(n.li,{children:["Set a ",(0,r.jsx)(n.strong,{children:"Password"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Both of these settings are found in ",(0,r.jsx)(n.em,{children:"Musikcube -> (s)ettings -> server setup"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Server Setup",src:s(7237).Z+"",width:"822",height:"666"})}),"\n",(0,r.jsx)(n.p,{children:"The URL used by MS has the syntax:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[ws|wss]://HOST:[PORT]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"port"})," is the same as shown in the server setup screenshot from above, under ",(0,r.jsx)(n.strong,{children:"metadata server enabled"}),". If no port is provided to MS it will default to ",(0,r.jsx)(n.code,{children:"7905"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["If no URL is provided to MS it will try to use ",(0,r.jsx)(n.code,{children:"ws://localhost:7905"})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-16",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MC_URL"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ws://localhost:7905"})}),(0,r.jsxs)(n.td,{children:["Use port set for ",(0,r.jsx)(n.strong,{children:"metadata server"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MC_PASSWORD"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/musikcube.json",language:"json5",children:U})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MusikcubeSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:U,name:"musikcube"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MusikcubeSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"mpd-music-player-daemon",children:(0,r.jsx)(n.a,{href:"https://www.musicpd.org/",children:"MPD (Music Player Daemon)"})}),"\n",(0,r.jsxs)(n.p,{children:["MS communicates with MPD using the ",(0,r.jsx)(n.a,{href:"https://mpd.readthedocs.io/en/stable/user.html#client-connections",children:"TCP client connection."})]}),"\n",(0,r.jsx)(n.p,{children:"You should uncomment/create the following settings in your mpd config:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'bind_to_address	"any"   # or a specific ipv4/v6 address\nport            "6600"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-17",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MPD_URL"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"localhost:6600"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MPD_PASSWORD"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/mpd.json",language:"json5",children:_})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MPDSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:_,name:"mpd"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MPDSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"vlc",children:(0,r.jsx)(n.a,{href:"https://www.videolan.org/vlc/",children:"VLC"})}),"\n",(0,r.jsxs)(n.p,{children:["MS communicates with VLC using the ",(0,r.jsxs)(n.a,{href:"https://wiki.videolan.org/VLC_HTTP_requests/",children:["Web (",(0,r.jsx)(n.code,{children:"http"}),") interface module"]})]}),"\n",(0,r.jsx)(n.h4,{id:"enable-http-interface",children:"Enable HTTP Interface"}),"\n",(0,r.jsx)(n.p,{children:"Open VLC:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tools"})," Menu -> Preferences","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In the bottom left change ",(0,r.jsx)(n.strong,{children:"Show Settings"})," from ",(0,r.jsx)(n.code,{children:"Simple"})," to ",(0,r.jsx)(n.code,{children:"All"})]}),"\n",(0,r.jsxs)(n.li,{children:["In the updated window select ",(0,r.jsx)(n.code,{children:"Interface -> Main interfaces"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In the ",(0,r.jsx)(n.strong,{children:"Extra interface modules"})," section enable ",(0,r.jsx)(n.strong,{children:"Web"})," and verify that ",(0,r.jsx)(n.code,{children:"http"})," is shown in the textbox"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Select ",(0,r.jsx)(n.code,{children:"Interface -> Main interfaces -> Lua"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"In Lua HTTP -> Password -> set a password in this box"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Save"})," at the bottom to persist your changes"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Restart VLC"}),"\n",(0,r.jsxs)(n.li,{children:["Verify the HTTP interface is accessible by navigating to ",(0,r.jsx)(n.code,{children:"http://localhost:8080"})," in your browser"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If the interface is accessible, after typing in your password, VLC  is now ready to be used by MS."}),"\n",(0,r.jsx)(n.h5,{id:"setting-vlc-interface-and-port",children:"Setting VLC Interface and Port"}),"\n",(0,r.jsx)(n.p,{children:"These can be set by starting VLC from command line with specific options:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vlc --http-host yourHostIp:yourPort"})," or"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vlc --http-port yourPort"})," or"]}),"\n",(0,r.jsxs)(n.li,{children:["modify the configuration file for VLC by editing keys with the same values as from the command line (",(0,r.jsx)(n.code,{children:"http-host"})," and ",(0,r.jsx)(n.code,{children:"http-port"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-18",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"VLC_URL"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"localhost:8080"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"VLC_PASSWORD"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/vlc.json",language:"json5",children:q})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"VLCSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:q,name:"vlc"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"VLCSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"filename-parsing",children:"Filename Parsing"}),"\n",(0,r.jsxs)(n.p,{children:["If the file being played in VLC does not have ID3 tags/metadata information multi-scrobbler can attempt to extract artist, title, and album information from the raw filename using regular expressions. Mutli-scrobbler will only do this if there is ",(0,r.jsx)(n.strong,{children:"no other information"})," reported by VLC about these fields."]}),"\n",(0,r.jsxs)(n.p,{children:["To extract this information use ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Named_capturing_group",children:"named capture groups"})," in your expression matching the field that should be extracted: ",(0,r.jsx)(n.code,{children:"artist"})," ",(0,r.jsx)(n.code,{children:"title"})," and/or ",(0,r.jsx)(n.code,{children:"album"}),". MS accepts multiple expressions, the first one that matches a filename will be used."]}),"\n",(0,r.jsxs)(n.p,{children:["Example usage in ",(0,r.jsx)(n.a,{href:"./?configType=file#webscrobbler-config",children:"a file-based config:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="config/vlc.json" {10-15}',children:'[\n  {\n    "name": "MyVlc",\n    "enable": true,\n    "data": {\n      // ...\n    },\n    "options": {\n      "filenamePatterns": [\n          // Extracts artist and title from filenames that look like:\n          // My Artist - My Cool title.mp4\n          "/^\\\\s*(?<artist>.+?) - (?<title>.+?)\\\\.\\\\w+$/i"\n        ],\n      // logs to DEBUG when MS tries to extract data from a filename\n      "logFilenamePatterns": true,\n    }\n  }\n]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"vlc-information-reporting",children:"Vlc Information Reporting"}),"\n",(0,r.jsxs)(n.p,{children:["If you find that VLC is incorrectly reporting track information (in its interface) but multi-scrobbler is not parsing it correctly it may be due to the ",(0,r.jsx)(n.em,{children:"name"})," of the fields VLC is reporting. mutli-scrobbler uses the most common field name but does not cover all use cases. Before reporting an issue please turn on metadata logging and include output from your logs while it is turned on:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="config/vlc.json" {9-9}',children:'    [\n      {\n        "name": "MyVlc",\n        "enable": true,\n        "data": {\n          // ...\n        },\n        "options": {\n          "dumpVlcMetadata": true\n        }\n      }\n    ]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"azuracast",children:(0,r.jsx)(n.a,{href:"https://www.azuracast.com/",children:"Azuracast"})}),"\n",(0,r.jsx)(n.admonition,{title:"Scrobbling Threshold",type:"tip",children:(0,r.jsxs)(n.p,{children:['Azuracast may not correctly report track length or position. If this is the case you should reduce the "listened to" ',(0,r.jsx)(n.strong,{children:"duration"})," using ",(0,r.jsx)(n.a,{href:"#scrobble-thresholds",children:"Scrobble Thresholds"})," so that multi-scrobbler scrobbles correctly."]})}),"\n",(0,r.jsxs)(n.p,{children:["The Azuracast server should have ",(0,r.jsx)(n.strong,{children:"Use High-Performance Now Playing Updates"})," enabled in ",(0,r.jsx)(n.em,{children:"Administration -> System Settings"})]}),"\n",(0,r.jsx)(n.h5,{id:"url-5",children:"URL"}),"\n",(0,r.jsx)(n.p,{children:"The URL used by MS to connect to Azuracast has the syntax:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[ws|wss]://HOST:[PORT]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["MS will automatically add the path required for websockets, ",(0,r.jsx)(n.a,{href:"https://www.azuracast.com/docs/developers/now-playing-data/#websockets",children:(0,r.jsx)(n.code,{children:"/api/live/nowplaying/websocket"})}),", to your URL if none is provided. If you use a reverse proxy with a path-based URL or otherwise need a custom path to access the websockets path correctly then explicitly provide it. Examples:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"URL From Config                => MS Uses\n\n'ws://192.168.0.101'                 => ws://192.168.0.101/api/live/nowplaying/websocket\n'ws://azura.mydomain.com'            => ws://azura.mydomain.com.com/api/live/nowplaying/websocket\n'wss://mydomain.com/custom/azura/ws' => wss://mydomain.com/custom/azura/ws\n"})}),"\n",(0,r.jsx)(n.h5,{id:"scrobble-behavior",children:"Scrobble Behavior"}),"\n",(0,r.jsxs)(n.p,{children:["Multi-scrobbler will set the default ",(0,r.jsx)(n.a,{href:"#should-scrobble-behavior",children:(0,r.jsx)(n.strong,{children:"scrobbling behavior"})})," based on if either of these settings is configured:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["live status (",(0,r.jsx)(n.code,{children:"AZURA_LIVE"})," or ",(0,r.jsx)(n.code,{children:"monitorWhenLive"}),") or"]}),"\n",(0,r.jsxs)(n.li,{children:["listener count (",(0,r.jsx)(n.code,{children:"AZURA_LISTENERS_NUM"})," or ",(0,r.jsx)(n.code,{children:"monitorWhenListeners"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If either is configured then MS will automatically scrobble based on when these conditions are met."}),"\n",(0,r.jsxs)(n.p,{children:["If neither is configured automatic scrobble defaults to ",(0,r.jsx)(n.strong,{children:"off"})," and you should either ",(0,r.jsx)(n.a,{href:"#should-scrobble-behavior",children:"manually initiate it or explicitly set the default behavior."})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-19",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Environmental Variable"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Required?"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"AZ_URL"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"}}),(0,r.jsxs)(n.td,{children:["Azuracast URL ",(0,r.jsx)(n.em,{children:"without station name"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"AZ_STATION"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"}}),(0,r.jsx)(n.td,{children:"The station name shown on the public page"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"AZURA_LIVE"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Yes"}),(0,r.jsx)(n.td,{children:"Only scrobble when station status is ONLINE"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"AZURA_LISTENERS_NUM"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsxs)(n.td,{children:["Only scrobble if station has any listeners (",(0,r.jsx)(n.code,{children:"true"}),") or listeners are equal-to/greater-than ",(0,r.jsx)(n.code,{children:"X"})]})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/azuracast.json",language:"json5",children:y})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"AzuracastSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:y,name:"azuracast"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"AzuracastSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"yamaha-musiccast",children:(0,r.jsx)(n.a,{href:"https://usa.yamaha.com/products/contents/audio_visual/musiccast/index.html",children:"Yamaha MusicCast"})}),"\n",(0,r.jsx)(n.p,{children:"Monitor Musiccast device/receivers for music played on Network/USB/CD inputs."}),"\n",(0,r.jsx)(n.admonition,{title:"Scrobbling Threshold",type:"tip",children:(0,r.jsxs)(n.p,{children:['Musiccast may not correctly report track length. If this is the case you should reduce the "listened to" ',(0,r.jsx)(n.strong,{children:"duration"})," using ",(0,r.jsx)(n.a,{href:"#scrobble-thresholds",children:"Scrobble Thresholds"})," so that multi-scrobbler scrobbles correctly."]})}),"\n",(0,r.jsx)(n.h5,{id:"url-6",children:"URL"}),"\n",(0,r.jsxs)(n.p,{children:["If only a domain/IP",":PORT"," is provided to multi-scrobbler it will automatically append the default Musiccast API path. If your Musiccast device is located behind a custom URL (or reverse proxy) you should explicitly provide the base path to use."]}),"\n",(0,r.jsx)(n.p,{children:"EX"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.code,{children:"url"})}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Transformed URL"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://192.168.0.101"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"http://192.168.0.101/YamahaExtendedControl/v1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://mydomain.com/reverseProxy/cast"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"http://mydomain.com/reverseProxy/cast"})})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-20",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsxs)(o.default,{value:"env",label:"ENV",children:[(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"AzuracastSourceConfig"})]}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Environmental Variable"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"MCAST_URL"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"The Musiccast device URL"})]})})]})]}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/musiccast.json",language:"json5",children:F})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MusicCastSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsxs)(n.p,{children:["Change ",(0,r.jsx)(n.code,{children:"configureAs"})," to ",(0,r.jsx)(n.code,{children:"source"})]}),(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:F,name:"musiccast"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"MusicCastSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"icecast",children:(0,r.jsx)(n.a,{href:"https://icecast.org",children:"Icecast"})}),"\n",(0,r.jsx)(n.p,{children:"Parse metadata from any Icecast Station (streams) to use for scrobbling."}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsxs)(n.p,{children:["There is no standard format for presenting track information in an Icecast stream and the majority of streams that do include metadata only use a single string (",(0,r.jsx)(n.code,{children:"StreamTitle"}),") from which metadata can be parsed."]}),(0,r.jsx)(n.p,{children:"Multi-scrobbler will do its best to parse Artist/Album/Track information from this data but the quality and consistency for this is solely based on how the Icecast broadcaster chooses to format their tracks."})]}),"\n",(0,r.jsxs)(n.admonition,{title:"Scrobbling Behavior",type:"tip",children:[(0,r.jsxs)(n.p,{children:["Multi-scrobbler cannot automatically determine if you are listening to a Station. Therefore, ",(0,r.jsx)(n.strong,{children:"automatic scrobbling for Icecast Sources is off by default."})]}),(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.a,{href:"#should-scrobble-behavior",children:"Should Scrobble Behavior"})," to initiate scrobbling or configure automatic scrobble."]})]}),"\n",(0,r.jsx)(n.admonition,{title:"Scrobbling Threshold",type:"tip",children:(0,r.jsxs)(n.p,{children:['Icecast does not report track lengths so multi-scrobbler cannot determine if it should scrobble based on percent played. You should instead set a shorter "listened to" ',(0,r.jsx)(n.strong,{children:"duration"})," using ",(0,r.jsx)(n.a,{href:"#scrobble-thresholds",children:"Scrobble Thresholds."})]})}),"\n",(0,r.jsx)(n.h5,{id:"url-and-sources",children:"URL and Sources"}),"\n",(0,r.jsx)(n.p,{children:"The URL should be the URL you would use to stream audio."}),"\n",(0,r.jsxs)(n.p,{children:["Additional sources are supported based on those found in ",(0,r.jsx)(n.a,{href:"https://github.com/eshaz/icecast-metadata-js/tree/main/src/icecast-metadata-stats#supported-status-apis",children:(0,r.jsx)(n.code,{children:"icecast-metadata-stats"})}),". To use these with automatic parsing ",(0,r.jsx)(n.a,{href:"https://github.com/eshaz/icecast-metadata-js/tree/main/src/icecast-metadata-stats#options",children:"based on the regular URL"})," include a ",(0,r.jsx)(n.code,{children:"sources"})," array in your config the same way as shown in ",(0,r.jsx)(n.code,{children:"icecast-metadata-stats"}),":"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="config.json"',children:'[\n    {\n      "name": "myIcy",\n      "enable": true,\n      "data": {\n        "url": "http://myIcecast.com/radio",\n        "sources": ["icy", "ogg", "sevenhtml"]\n      }\n    }\n  ]\n  \n'})})]}),"\n",(0,r.jsxs)(n.p,{children:["To manually set these sources include the same ",(0,r.jsxs)(n.a,{href:"https://github.com/eshaz/icecast-metadata-js/tree/main/src/icecast-metadata-stats#options",children:[(0,r.jsx)(n.code,{children:"*Endpoint"})," options"]})," found in ",(0,r.jsx)(n.code,{children:"icecast-metadata-stats"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["If no ",(0,r.jsx)(n.code,{children:"sources"})," are configured for multi-scrobbler it will automatically try to use ",(0,r.jsx)(n.code,{children:"icy"})," and ",(0,r.jsx)(n.code,{children:"ogg"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-21",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Environmental Variable"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Required?"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"ICECAST_URL"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Yes"}),(0,r.jsx)(n.td,{style:{textAlign:"left"}}),(0,r.jsx)(n.td,{children:"Icecast URL"})]})})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/icecast.json",language:"json5",children:I})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"IcecastSourceConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{data:I,name:"icecast"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{lower:!0,objectName:"IcecastSourceConfig"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"client-configurations",children:"Client Configurations"}),"\n",(0,r.jsx)(n.h3,{id:"maloja",children:(0,r.jsx)(n.a,{href:"https://github.com/krateng/maloja",children:"Maloja"})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-22",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MALOJA_URL"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Base URL of your installation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MALOJA_API_KEY"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Api Key"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(d(),{title:"CONFIG_DIR/maloja.json",language:"json5",children:M})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{client:!0,lower:!0,objectName:"MalojaClientConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{client:!0,data:M,name:"maloja"})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{client:!0,lower:!0,objectName:"MalojaClientConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"lastfm",children:(0,r.jsx)(n.a,{href:"https://www.last.fm",children:"Last.fm"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.last.fm/api/account/create",children:"Register for an API account here."})}),"\n",(0,r.jsx)(n.p,{children:"The Callback URL is actually specified by multi-scrobbler but to keep things consistent you should use"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:9078/lastfm/callback\n"})}),"\n",(0,r.jsxs)(n.p,{children:["or replace ",(0,r.jsx)(n.code,{children:"localhost:9078"})," with your own base URL"]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-23",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LASTFM_API_KEY"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Api Key from your API Account"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LASTFM_SECRET"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Shared secret from your API Account"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LASTFM_REDIRECT_URI"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http://localhost:9078/lastfm/callback"})}),(0,r.jsxs)(n.td,{children:["Url to use for authentication. Must include ",(0,r.jsx)(n.code,{children:"lastfm/callback"})," somewhere in it"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LASTFM_SESSION"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Session id. Will be generated by authentication flow if not provided."})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(g,{title:"CONFIG_DIR/lastfm.json",data:k,client:!0})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{client:!0,lower:!0,objectName:"LastfmClientConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{client:!0,data:k,name:"lastfm",client:!0})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{client:!0,lower:!0,objectName:"LastfmClientConfig"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"listenbrainz",children:(0,r.jsx)(n.a,{href:"https://listenbrainz.org",children:"Listenbrainz"})}),"\n",(0,r.jsxs)(n.p,{children:["You will need to run your own Listenbrainz server, ",(0,r.jsx)(n.a,{href:"https://koito.io",children:"Koito"})," or have an account ",(0,r.jsx)(n.a,{href:"https://listenbrainz.org/login/",children:"on the official instance"})]}),"\n",(0,r.jsxs)(n.p,{children:["On your ",(0,r.jsx)(n.a,{href:"https://listenbrainz.org/profile/",children:"profile page"})," find your ",(0,r.jsx)(n.strong,{children:"User Token"})," to use in the configuration."]}),"\n",(0,r.jsxs)(n.p,{children:["For Koito, ",(0,r.jsx)(n.a,{href:"https://koito.io/guides/scrobbler/",children:"create an API Key from your Account page."})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-24",children:"Configuration"}),"\n",(0,r.jsxs)(t.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(o.default,{value:"env",label:"ENV",children:(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environmental Variable"}),(0,r.jsx)(n.th,{children:"Required?"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LZ_TOKEN"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"User token from your LZ profile"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LZ_USER"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Your LZ username"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LZ_URL"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://api.listenbrainz.org/",children:"https://api.listenbrainz.org/"})}),(0,r.jsx)(n.td,{children:"The base URL for the LZ server"})]})]})]})}),(0,r.jsxs)(o.default,{value:"file",label:"File",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(g,{title:"CONFIG_DIR/listenbrainz.json",data:R,client:!0})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{client:!0,lower:!0,objectName:"ListenBrainzClientConfig"})]})]}),(0,r.jsxs)(o.default,{value:"aio",label:"AIO",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(f,{client:!0,data:R,name:"listenbrainz",client:!0})]}),(0,r.jsxs)(n.p,{children:["or ",(0,r.jsx)(h,{client:!0,lower:!0,objectName:"ListenBrainzClientConfig"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,r.jsx)(n.p,{children:"multi-scrobbler supports some common webhooks and a healthcheck endpoint in order to monitor Sources and Clients for errors."}),"\n",(0,r.jsx)(n.h3,{id:"webhook-configurations",children:"Webhook Configurations"}),"\n",(0,r.jsxs)(n.p,{children:["Webhooks will ",(0,r.jsx)(n.strong,{children:"push"})," a notification to your configured servers on these events:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Source polling started"}),"\n",(0,r.jsx)(n.li,{children:"Source polling retry"}),"\n",(0,r.jsx)(n.li,{children:"Source polling stopped on error"}),"\n",(0,r.jsx)(n.li,{children:"Scrobble client scrobble failure"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Webhooks are configured in the AIO ",(0,r.jsx)(n.a,{href:"#configuration-types",children:"config.json"})," file under the ",(0,r.jsx)(n.code,{children:"webhook"})," top-level property. Multiple webhooks may be configured for each webhook type."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="config.json"',children:'{\n  "sources": [\n    //...\n  ],\n  "clients": [\n    //...\n  ],\n  "webhooks": [\n    {\n      "name": "FirstGotifyServer",\n      "type": "gotify",\n      "url": "http://192.168.0.100:8070",\n      "token": "abcd"\n    },\n    {\n      "name": "SecondGotifyServer",\n      "type": "gotify",\n      //...\n    },\n    {\n      "name": "NtfyServerOne",\n      "type": "ntfy",\n      //...\n    },\n    //...\n  ]\n}\n'})})]}),"\n",(0,r.jsx)(n.h4,{id:"gotify",children:(0,r.jsx)(n.a,{href:"https://gotify.net/",children:"Gotify"})}),"\n",(0,r.jsxs)(n.p,{children:["Refer to the ",(0,r.jsx)(n.a,{href:"https://json-schema.app/view/%23/%23%2Fdefinitions%2FGotifyConfig?url=https%3A%2F%2Fraw.githubusercontent.com%2FFoxxMD%2Fmulti-scrobbler%2Fmaster%2Fsrc%2Fbackend%2Fcommon%2Fschema%2Faio.json",children:"config schema for GotifyConfig"})]}),"\n",(0,r.jsxs)(n.p,{children:["multi-scrobbler optionally supports setting message notification priority via ",(0,r.jsx)(n.code,{children:"info"})," ",(0,r.jsx)(n.code,{children:"warn"})," and ",(0,r.jsx)(n.code,{children:"error"})," mappings."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n  "type": "gotify",\n  "name": "MyGotifyFriendlyNameForLogs",\n  "url": "http://192.168.0.100:8070",\n  "token": "AQZI58fA.rfSZbm",\n  "priorities": {\n    "info": 5,\n    "warn": 7,\n    "error": 10\n  }\n}\n'})})]}),"\n",(0,r.jsx)(n.h4,{id:"ntfy",children:(0,r.jsx)(n.a,{href:"https://ntfy.sh/",children:"Ntfy"})}),"\n",(0,r.jsxs)(n.p,{children:["Refer to the ",(0,r.jsx)(n.a,{href:"https://json-schema.app/view/%23/%23%2Fdefinitions%2FNtfyConfig?url=https%3A%2F%2Fraw.githubusercontent.com%2FFoxxMD%2Fmulti-scrobbler%2Fmaster%2Fsrc%2Fbackend%2Fcommon%2Fschema%2Faio.json",children:"config schema for NtfyConfig"})]}),"\n",(0,r.jsxs)(n.p,{children:["multi-scrobbler optionally supports setting message notification priority via ",(0,r.jsx)(n.code,{children:"info"})," ",(0,r.jsx)(n.code,{children:"warn"})," and ",(0,r.jsx)(n.code,{children:"error"})," mappings."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n  "type": "ntfy",\n  "name": "MyNtfyFriendlyNameForLogs",\n  "url": "http://192.168.0.100:9991",\n  "topic": "RvOwKJ1XtIVMXGLR",\n  "username": "Optional",\n  "password": "Optional",\n  "priorities": {\n    "info": 3,\n    "warn": 4,\n    "error": 5\n  }\n}\n'})})]}),"\n",(0,r.jsx)(n.h4,{id:"apprise",children:(0,r.jsx)(n.a,{href:"https://github.com/caronc/apprise-api",children:"Apprise"})}),"\n",(0,r.jsxs)(n.p,{children:["Refer to the ",(0,r.jsx)(n.a,{href:"https://json-schema.app/view/%23/%23%2Fdefinitions%2FAppriseConfig?url=https%3A%2F%2Fraw.githubusercontent.com%2FFoxxMD%2Fmulti-scrobbler%2Fmaster%2Fsrc%2Fbackend%2Fcommon%2Fschema%2Faio.json",children:"config schema for AppriseConfig"})]}),"\n",(0,r.jsxs)(n.p,{children:["multi-scrobbler supports ",(0,r.jsx)(n.a,{href:"https://github.com/caronc/apprise-api?tab=readme-ov-file#stateless-solution",children:"stateless"})," and ",(0,r.jsx)(n.a,{href:"https://github.com/caronc/apprise-api?tab=readme-ov-file#persistent-storage-solution",children:"persistent storage"})," endpoints as well as ",(0,r.jsx)(n.a,{href:"https://github.com/caronc/apprise-api?tab=readme-ov-file#tagging",children:"tags"}),"/"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="config.json"',children:'{\n  "type": "apprise",\n  "name": "MyAppriseFriendlyNameForLogs",\n  "host": "http://192.168.0.100:8080",\n  "urls": ["gotify://192.168.0.101:8070/MyToken"], // stateless endpoints\n  "keys": ["e90b20526808373353afad7fb98a201198c0c3e0555bea19f182df3388af7b17"], //persistent storage endpoints\n  "tags": ["my","optional","tags"]\n}\n'})})]}),"\n",(0,r.jsx)(n.h3,{id:"health-endpoint",children:"Health Endpoint"}),"\n",(0,r.jsxs)(n.p,{children:["An endpoint for monitoring the health of sources/clients is available at GET ",(0,r.jsx)(n.code,{children:"http://YourMultiScrobblerDomain/health"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Returns ",(0,r.jsx)(n.code,{children:"200 OK"})," when ",(0,r.jsx)(n.strong,{children:"everything"})," is working or ",(0,r.jsx)(n.code,{children:"500 Internal Server Error"})," if ",(0,r.jsx)(n.strong,{children:"anything"})," is not"]}),"\n",(0,r.jsxs)(n.li,{children:["The plain url (",(0,r.jsx)(n.code,{children:"/health"}),") aggregates status of ",(0,r.jsx)(n.strong,{children:"all clients/sources"})," -- so any failing client/source will make status return 500","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use query params ",(0,r.jsx)(n.code,{children:"type"})," or ",(0,r.jsx)(n.code,{children:"name"})," to restrict client/sources aggregated IE ",(0,r.jsx)(n.code,{children:"/health?type=spotify"})," or ",(0,r.jsx)(n.code,{children:"/health?name=MyMaloja"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["On 500 the response returns a JSON payload with ",(0,r.jsx)(n.code,{children:"messages"})," array that describes any issues","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For any clients/sources that require authentication ",(0,r.jsx)(n.code,{children:"/health"})," will return 500 if they are ",(0,r.jsx)(n.strong,{children:"not authenticated"})]}),"\n",(0,r.jsxs)(n.li,{children:["For sources that poll (spotify, yt music, subsonic) ",(0,r.jsx)(n.code,{children:"/health"})," will 500 if they are ",(0,r.jsx)(n.strong,{children:"not polling"})]}),"\n"]}),"\n"]}),"\n"]})]})}function H(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(Z,{...e})}):Z(e)}},1859:function(e,n,s){s.d(n,{Z:function(){return i}});let i=s.p+"assets/images/mpris-e95a64bfe1b46a618dc43729685d6114.jpg"},7237:function(e,n,s){s.d(n,{Z:function(){return i}});let i=s.p+"assets/images/musikcube-67f806e04d12c6b3b65b3d73e732dd9b.jpg"}}]);