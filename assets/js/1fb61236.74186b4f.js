"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["3174"],{20941:function(e,s,l){l.r(s),l.d(s,{frontMatter:()=>o,default:()=>h,toc:()=>c,metadata:()=>r,assets:()=>d,contentTitle:()=>t});var r=JSON.parse('{"id":"configuration/sources/plex","title":"Plex","description":"Find your Plex Token and make note of the URL and Port used to connect to your Plex instance.","source":"@site/docs/configuration/sources/plex.mdx","sourceDirName":"configuration/sources","slug":"/configuration/sources/plex","permalink":"/multi-scrobbler/configuration/sources/plex","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/configuration/sources/plex.mdx","tags":[],"version":"current","frontMatter":{"title":"Plex","toc_min_heading_level":2,"toc_max_heading_level":5},"sidebar":"tutorialSidebar","previous":{"title":"Musikcube","permalink":"/multi-scrobbler/configuration/sources/musikcube"},"next":{"title":"Rocksky","permalink":"/multi-scrobbler/configuration/sources/rocksky-source"}}'),i=l(85893),n=l(50065);l(703),l(73752),l(75752);let o={title:"Plex",toc_min_heading_level:2,toc_max_heading_level:5},t=void 0,d={},c=[{value:"Defaults",id:"defaults",level:6},{value:"Only A Specific User",id:"only-a-specific-user",level:6},{value:"A Specific User + Defaults",id:"a-specific-user--defaults",level:6},{value:"Configuration",id:"configuration",level:4}];function a(e){let s={a:"a",code:"code",h4:"h4",h6:"h6",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.a)(),...e.components},{Config:l,Details:r}=s;return l||x("Config",!0),r||x("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Find your ",(0,i.jsx)(s.a,{href:"https://support.plex.tv/articles/204059436-finding-an-authentication-token-x-plex-token/",children:(0,i.jsx)(s.strong,{children:"Plex Token"})})," and make note of the ",(0,i.jsx)(s.strong,{children:"URL"})," and ",(0,i.jsx)(s.strong,{children:"Port"})," used to connect to your Plex instance."]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Allowed Users and Defaults"}),(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Multi-scrobbler will automatically scrobble for these users by default:"})}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The User authenticated with the Plex Token"}),"\n",(0,i.jsxs)(s.li,{children:["and the ",(0,i.jsx)(s.strong,{children:"Local User"})]}),"\n"]}),(0,i.jsxs)(s.p,{children:["The Local User (",(0,i.jsx)(s.code,{children:"PLEX_LOCAL_USER"}),") is how Plex identifies anyone directly accessing the Plex UI from a local IP (who does not need to login)."]}),(0,i.jsxs)(s.p,{children:["To allow MS to scrobble for other users use ",(0,i.jsx)(s.code,{children:"usersAllow"})," or ",(0,i.jsx)(s.code,{children:"PLEX_USERS_ALLOW"})," (env) from the below configuration docs. However, because you are overriding the default settings you must also explicitly list the authenticated user and the Local User if you want them to also be able to scrobble."]}),(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(s.h6,{id:"defaults",children:"Defaults"}),(0,i.jsxs)(s.p,{children:["If ",(0,i.jsx)(s.code,{children:"usersallow"})," and ",(0,i.jsx)(s.code,{children:"PLEX_USERS_ALLOW"})," are not defined then the Plex Token authenticated User and Local User will be scrobbled for."]}),(0,i.jsx)(s.h6,{id:"only-a-specific-user",children:"Only A Specific User"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:'"usersallow": ["SomeUser"]'})," or"]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"PLEX_USERS_ALLOW: SomeUser"})}),"\n"]}),(0,i.jsxs)(s.p,{children:["Only the Plex user ",(0,i.jsx)(s.code,{children:"SomeUser"})," will be scrobbled for. The Plex Token authenticated user and the Local User will not be scrobbled for."]}),(0,i.jsx)(s.h6,{id:"a-specific-user--defaults",children:"A Specific User + Defaults"}),(0,i.jsxs)(s.p,{children:["(Assuming the plex authenticated user is ",(0,i.jsx)(s.code,{children:"FoxxMD"}),")"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:'"usersallow": ["FoxxMD", "PLEX_LOCAL_USER", "SomeUser"]'})," or"]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"PLEX_USERS_ALLOW: FoxxMD,PLEX_LOCAL_USER,SomeUser"})}),"\n"]}),(0,i.jsx)(s.p,{children:"The Plex user SomeUser, the Plex Token authenticated user (FoxxMD) and the Local User will be scrobbled for."})]})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Allowed Libraries and Defaults"}),(0,i.jsxs)(s.p,{children:["By default multi-scrobbler will only scrobble media found in Plex libraries that are labelled as ",(0,i.jsx)(s.strong,{children:"Music."})]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"librariesAllow"})," or ",(0,i.jsx)(s.code,{children:"PLEX_LIBRARIES_ALLOW"})," will override this"]}),"\n"]})]}),"\n",(0,i.jsx)(s.h4,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(l,{config:"PlexApiSourceConfig",fileContent:'[\n  {\n    "name": "MyPlexApi",\n    "enable": true,\n    "clients": [],\n    "data": {\n      "token": "1234",\n      "url": "http://192.168.0.120:32400",\n      "usersAllow": ["FoxxMD","SomeOtherUser"],\n      "usersBlock": ["AnotherUser"],\n      "devicesAllow": ["firefox"],\n      "devicesBlock": ["google-home"],\n      "librariesAllow": ["GoodMusic"],\n      "librariesBlock": ["BadMusic"]\n    },\n    "options": {\n      "logPayload": true,\n      "logFilterFailure": "debug",\n      "ignoreInvalidCert": "false"\n      }\n  }\n]\n',name:"plex",children:(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Environmental Variable"}),(0,i.jsx)(s.th,{children:"Required?"}),(0,i.jsx)(s.th,{children:"Default"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PLEX_URL"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Yes"})}),(0,i.jsx)(s.td,{}),(0,i.jsxs)(s.td,{children:["The URL of the Plex server IE ",(0,i.jsx)(s.code,{children:"http://localhost:32400"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PLEX_TOKEN"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Yes"})}),(0,i.jsx)(s.td,{}),(0,i.jsxs)(s.td,{children:["The ",(0,i.jsx)(s.strong,{children:"Plex Token"})," to use with the API"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PLEX_USERS_ALLOW"})}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"Comma-separated list of usernames (from Plex) to scrobble for"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PLEX_USERS_BLOCK"})}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"Comma-separated list of usernames (from Plex) to disallow scrobble for"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PLEX_DEVICES_ALLOW"})}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"Comma-separated list of devices to scrobble from"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PLEX_DEVICES_BLOCK"})}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"Comma-separated list of devices to disallow scrobbles from"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PLEX_LIBRARIES_ALLOW"})}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"Comma-separated list of libraries to allow scrobbles from"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PLEX_LIBRARIES_BLOCK"})}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{}),(0,i.jsx)(s.td,{children:"Comma-separated list of libraries to disallow scrobbles from"})]})]})]})})]})}function h(e={}){let{wrapper:s}={...(0,n.a)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}function x(e,s){throw Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);