"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["1165"],{76574:function(e,t,s){s.d(t,{ZP:()=>c,d$:()=>l});var n=s(85893),r=s(50065),i=s(75752),o=s.n(i);let l=[];function a(e){let t={a:"a",code:"code",p:"p",strong:"strong",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["This ",(0,n.jsx)(t.strong,{children:"Source"})," supports toggling scrobbling on or off manually. This action can be taken on the Web Dashboard by clicking the link next to ",(0,n.jsx)(t.strong,{children:"Should Scrobble"})," found in each Source's status card."]}),"\n",(0,n.jsxs)(t.p,{children:["Additionally, the default behavior for scrobbling can be explicitly set by adding the following value to a Source's ",(0,n.jsx)(t.code,{children:"options"})," in ",(0,n.jsx)(t.a,{href:"/configuration?configType=file#configuration-types",children:"file or aio config"}),":"]}),"\n",(0,n.jsx)(o(),{language:"json5",title:`${e.filename}.json`,children:`{
  "data": {
      // ...
  },
  "options": {
      // highlight-start
      // set to true to always scrobble automatically
      // set to false to never scrobble automatically
      "systemScrobble": true
      // highlight-end
  }
}}`})]})}function c(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},79501:function(e,t,s){s.r(t),s.d(t,{frontMatter:()=>u,default:()=>g,toc:()=>j,metadata:()=>n,assets:()=>b,contentTitle:()=>x});var n=JSON.parse('{"id":"configuration/sources/azuracast","title":"Azuracast","description":"Azuracast may not correctly report track length or position. If this is the case you should reduce the \\"listened to\\" duration using Scrobble Thresholds so that multi-scrobbler scrobbles correctly.","source":"@site/docs/configuration/sources/azuracast.mdx","sourceDirName":"configuration/sources","slug":"/configuration/sources/azuracast","permalink":"/multi-scrobbler/configuration/sources/azuracast","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/configuration/sources/azuracast.mdx","tags":[],"version":"current","frontMatter":{"title":"Azuracast","toc_min_heading_level":2,"toc_max_heading_level":5},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/multi-scrobbler/configuration/sources/"},"next":{"title":"Deezer","permalink":"/multi-scrobbler/configuration/sources/deezer"}}'),r=s(85893),i=s(50065),o=s(703),l=s(73752),a=s(75752),c=s.n(a);let d='[\n  {\n    "type": "azuracast",\n    "enable": true,\n    "name": "azura",\n    "data": {\n      "url": "ws://192.168.0.101",\n      "station": "my-station-name",\n      "monitorWhenLive": true,\n      "monitorWhenListeners": 1\n    }\n  }\n]\n';var h=s(76574);let u={title:"Azuracast",toc_min_heading_level:2,toc_max_heading_level:5},x=void 0,b={},j=[{value:"URL",id:"url",level:4},{value:"Scrobble Behavior",id:"scrobble-behavior",level:4},...h.d$,{value:"Configuration",id:"configuration",level:2}];function f(e){let t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components},{AIOExample:s,SchemaLink:n}=t;return s||m("AIOExample",!0),n||m("SchemaLink",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.admonition,{title:"Scrobbling Threshold",type:"tip",children:(0,r.jsxs)(t.p,{children:['Azuracast may not correctly report track length or position. If this is the case you should reduce the "listened to" ',(0,r.jsx)(t.strong,{children:"duration"})," using ",(0,r.jsx)(t.a,{href:"/configuration/sources#scrobble-thresholds",children:"Scrobble Thresholds"})," so that multi-scrobbler scrobbles correctly."]})}),"\n",(0,r.jsxs)(t.p,{children:["The Azuracast server should have ",(0,r.jsx)(t.strong,{children:"Use High-Performance Now Playing Updates"})," enabled in ",(0,r.jsx)(t.em,{children:"Administration -> System Settings"})]}),"\n",(0,r.jsx)(t.h4,{id:"url",children:"URL"}),"\n",(0,r.jsx)(t.p,{children:"The URL used by MS to connect to Azuracast has the syntax:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"[ws|wss]://HOST:[PORT]\n"})}),"\n",(0,r.jsxs)(t.p,{children:["MS will automatically add the path required for websockets, ",(0,r.jsx)(t.a,{href:"https://www.azuracast.com/docs/developers/now-playing-data/#websockets",children:(0,r.jsx)(t.code,{children:"/api/live/nowplaying/websocket"})}),", to your URL if none is provided. If you use a reverse proxy with a path-based URL or otherwise need a custom path to access the websockets path correctly then explicitly provide it. Examples:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"URL From Config                => MS Uses\n\n'ws://192.168.0.101'                 => ws://192.168.0.101/api/live/nowplaying/websocket\n'ws://azura.mydomain.com'            => ws://azura.mydomain.com.com/api/live/nowplaying/websocket\n'wss://mydomain.com/custom/azura/ws' => wss://mydomain.com/custom/azura/ws\n"})}),"\n",(0,r.jsx)(t.h4,{id:"scrobble-behavior",children:"Scrobble Behavior"}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(h.ZP,{filename:"azuracast"})}),"\n",(0,r.jsxs)(t.p,{children:["Multi-scrobbler will set the default ",(0,r.jsx)(t.strong,{children:"scrobbling behavior"})," based on if either of these settings is configured:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["live status (",(0,r.jsx)(t.code,{children:"AZURA_LIVE"})," or ",(0,r.jsx)(t.code,{children:"monitorWhenLive"}),") or"]}),"\n",(0,r.jsxs)(t.li,{children:["listener count (",(0,r.jsx)(t.code,{children:"AZURA_LISTENERS_NUM"})," or ",(0,r.jsx)(t.code,{children:"monitorWhenListeners"}),")"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"If either is configured then MS will automatically scrobble based on when these conditions are met."}),"\n",(0,r.jsxs)(t.p,{children:["If neither is configured automatic scrobble defaults to ",(0,r.jsx)(t.strong,{children:"off"})," and you should either manually initiate it or explicitly set the default behavior."]}),"\n",(0,r.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(o.default,{groupId:"configType",queryString:!0,children:[(0,r.jsx)(l.default,{value:"env",label:"ENV",children:(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Environmental Variable"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Required?"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Default"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"AZ_URL"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,r.jsx)(t.td,{style:{textAlign:"left"}}),(0,r.jsxs)(t.td,{children:["Azuracast URL ",(0,r.jsx)(t.em,{children:"without station name"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"AZ_STATION"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,r.jsx)(t.td,{style:{textAlign:"left"}}),(0,r.jsx)(t.td,{children:"The station name shown on the public page"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"AZURA_LIVE"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"}),(0,r.jsx)(t.td,{children:"Only scrobble when station status is ONLINE"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"AZURA_LISTENERS_NUM"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"No"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.code,{children:"true"})}),(0,r.jsxs)(t.td,{children:["Only scrobble if station has any listeners (",(0,r.jsx)(t.code,{children:"true"}),") or listeners are equal-to/greater-than ",(0,r.jsx)(t.code,{children:"X"})]})]})]})]})}),(0,r.jsxs)(l.default,{value:"file",label:"File",children:[(0,r.jsx)(c(),{title:"CONFIG_DIR/azuracast.json",language:"json5",children:d}),(0,r.jsxs)(t.p,{children:["or ",(0,r.jsx)(n,{lower:!0,objectName:"AzuracastSourceConfig"})]})]}),(0,r.jsxs)(l.default,{value:"aio",label:"AIO",children:[(0,r.jsx)(s,{data:d,name:"azuracast"}),(0,r.jsxs)(t.p,{children:["or ",(0,r.jsx)(n,{lower:!0,objectName:"AzuracastSourceConfig"})]})]})]})]})}function g(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}function m(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);