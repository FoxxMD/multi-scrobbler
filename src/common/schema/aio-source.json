{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "DeezerData": {
            "properties": {
                "clientId": {
                    "description": "deezer client id",
                    "examples": [
                        "a89cba1569901a0671d5a9875fed4be1"
                    ],
                    "type": "string"
                },
                "clientSecret": {
                    "description": "deezer client secret",
                    "examples": [
                        "ec42e09d5ae0ee0f0816ca151008412a"
                    ],
                    "type": "string"
                },
                "interval": {
                    "default": 60,
                    "description": "optional, how long to wait before calling spotify for new tracks (in seconds)",
                    "examples": [
                        60
                    ],
                    "type": "number"
                },
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "options": {
                    "$ref": "#/definitions/Record<string,any>"
                },
                "redirectUri": {
                    "default": "http://localhost:9078/deezer/callback",
                    "description": "deezer redirect URI -- required only if not the default shown here. URI must end in \"callback\"",
                    "examples": [
                        "http://localhost:9078/deezer/callback"
                    ],
                    "type": "string"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                }
            },
            "required": [
                "clientId",
                "clientSecret",
                "redirectUri"
            ],
            "type": "object"
        },
        "DeezerSourceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "data": {
                    "$ref": "#/definitions/DeezerData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "deezer"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "JellyData": {
            "properties": {
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "options": {
                    "description": "Additional options for jellyfin logging and tuning",
                    "properties": {
                        "logPayload": {
                            "default": false,
                            "description": "Log raw Jellyfin webhook payload to debug",
                            "examples": [
                                false
                            ],
                            "type": "boolean"
                        }
                    },
                    "type": "object"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                },
                "servers": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "optional list of servers to scrobble tracks from\n\nIf none are provided tracks from all servers will be scrobbled",
                    "examples": [
                        [
                            "MyServerName1"
                        ]
                    ]
                },
                "users": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "optional list of users to scrobble tracks from\n\nIf none are provided tracks from all users will be scrobbled",
                    "examples": [
                        [
                            "MyUser1",
                            "MyUser2"
                        ]
                    ]
                }
            },
            "type": "object"
        },
        "JellySourceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "data": {
                    "$ref": "#/definitions/JellyData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "jellyfin"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "LastFmSouceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "configureAs": {
                    "default": "source",
                    "description": "When used in `lastfm.config` this tells multi-scrobbler whether to use this data to configure a source or client.",
                    "enum": [
                        "source"
                    ],
                    "examples": [
                        "source"
                    ],
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/LastFmSourceData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "lastfm"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "LastFmSourceData": {
            "properties": {
                "apiKey": {
                    "description": "API Key generated from Last.fm account",
                    "examples": [
                        "787c921a2a2ab42320831aba0c8f2fc2"
                    ],
                    "type": "string"
                },
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "options": {
                    "$ref": "#/definitions/Record<string,any>"
                },
                "redirectUri": {
                    "default": "http://localhost:9078/lastfm/callback",
                    "description": "Optional URI to use for callback. Specify this if callback should be different than the default. MUST have \"lastfm/callback\" in the URL somewhere.",
                    "examples": [
                        "http://localhost:9078/lastfm/callback"
                    ],
                    "type": "string"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                },
                "secret": {
                    "description": "Secret generated from Last.fm account",
                    "examples": [
                        "ec42e09d5ae0ee0f0816ca151008412a"
                    ],
                    "type": "string"
                },
                "session": {
                    "description": "Optional session id returned from a completed auth flow",
                    "type": "string"
                }
            },
            "required": [
                "apiKey",
                "secret"
            ],
            "type": "object"
        },
        "MPRISData": {
            "properties": {
                "blacklist": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "DO NOT scrobble from any players that START WITH these values, case-insensitive",
                    "examples": [
                        [
                            "spotify",
                            "vlc"
                        ]
                    ]
                },
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "options": {
                    "$ref": "#/definitions/Record<string,any>"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                },
                "whitelist": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "ONLY from any players that START WITH these values, case-insensitive\n\nIf whitelist is present then blacklist is ignored",
                    "examples": [
                        [
                            "spotify",
                            "vlc"
                        ]
                    ]
                }
            },
            "type": "object"
        },
        "MPRISSourceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "data": {
                    "$ref": "#/definitions/MPRISData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "mpris"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "PlexSourceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "data": {
                    "$ref": "#/definitions/PlexSourceData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "plex"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "PlexSourceData": {
            "properties": {
                "libraries": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "optional list of libraries to scrobble tracks from\n\nIf none are provided tracks from all libraries will be scrobbled",
                    "examples": [
                        [
                            "Audio",
                            "Music"
                        ]
                    ]
                },
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "options": {
                    "$ref": "#/definitions/Record<string,any>"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                },
                "servers": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "optional list of servers to scrobble tracks from\n\nIf none are provided tracks from all servers will be scrobbled",
                    "examples": [
                        [
                            "MyServerName"
                        ]
                    ]
                },
                "user": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "optional list of users to scrobble tracks from\n\nIf none are provided tracks from all users will be scrobbled",
                    "examples": [
                        [
                            "MyUser1",
                            "MyUser2"
                        ]
                    ]
                }
            },
            "type": "object"
        },
        "Record<string,any>": {
            "type": "object"
        },
        "SourceAIOConfig": {
            "anyOf": [
                {
                    "$ref": "#/definitions/SpotifySourceAIOConfig"
                },
                {
                    "$ref": "#/definitions/PlexSourceAIOConfig"
                },
                {
                    "$ref": "#/definitions/TautulliSourceAIOConfig"
                },
                {
                    "$ref": "#/definitions/DeezerSourceAIOConfig"
                },
                {
                    "$ref": "#/definitions/SubsonicSourceAIOConfig"
                },
                {
                    "$ref": "#/definitions/JellySourceAIOConfig"
                },
                {
                    "$ref": "#/definitions/LastFmSouceAIOConfig"
                },
                {
                    "$ref": "#/definitions/YTMusicSourceAIOConfig"
                },
                {
                    "$ref": "#/definitions/MPRISSourceAIOConfig"
                }
            ]
        },
        "SourceRetryOptions": {
            "properties": {
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                }
            },
            "type": "object"
        },
        "SpotifySourceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "data": {
                    "$ref": "#/definitions/SpotifySourceData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "spotify"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "SpotifySourceData": {
            "properties": {
                "clientId": {
                    "description": "spotify client id",
                    "examples": [
                        "787c921a2a2ab42320831aba0c8f2fc2"
                    ],
                    "type": "string"
                },
                "clientSecret": {
                    "description": "spotify client secret",
                    "examples": [
                        "ec42e09d5ae0ee0f0816ca151008412a"
                    ],
                    "type": "string"
                },
                "interval": {
                    "default": 30,
                    "description": "How long to wait before polling the source API for new tracks (in seconds)\n\nIt is unlikely you should need to change this unless you scrobble many very short tracks often\n\nReading:\n* https://developer.spotify.com/documentation/web-api/guides/rate-limits/\n* https://medium.com/mendix/limiting-your-amount-of-calls-in-mendix-most-of-the-time-rest-835dde55b10e\n  * The rate limit is ~180 req/min",
                    "examples": [
                        30
                    ],
                    "type": "number"
                },
                "maxInterval": {
                    "default": 60,
                    "description": "When there has been no new activity from the Source API multi-scrobbler will gradually increase the wait time between polling up to this value (in seconds)",
                    "examples": [
                        60
                    ],
                    "type": "number"
                },
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "options": {
                    "$ref": "#/definitions/Record<string,any>"
                },
                "redirectUri": {
                    "default": "http://localhost:9078/callback",
                    "description": "spotify redirect URI -- required only if not the default shown here. URI must end in \"callback\"",
                    "examples": [
                        "http://localhost:9078/callback"
                    ],
                    "type": "string"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                }
            },
            "required": [
                "clientId",
                "clientSecret",
                "redirectUri"
            ],
            "type": "object"
        },
        "SubsonicData": {
            "properties": {
                "interval": {
                    "default": 10,
                    "description": "How long to wait before polling the source API for new tracks (in seconds)",
                    "examples": [
                        10
                    ],
                    "type": "number"
                },
                "maxInterval": {
                    "default": 30,
                    "description": "When there has been no new activity from the Source API multi-scrobbler will gradually increase the wait time between polling up to this value (in seconds)",
                    "examples": [
                        30
                    ],
                    "type": "number"
                },
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "options": {
                    "$ref": "#/definitions/Record<string,any>"
                },
                "password": {
                    "description": "Password for the user to login to the server with",
                    "examples": [
                        "MyPassword"
                    ],
                    "type": "string"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                },
                "url": {
                    "description": "URL of the subsonic media server to query",
                    "examples": [
                        "http://airsonic.local"
                    ],
                    "type": "string"
                },
                "user": {
                    "description": "Username to login to the server with",
                    "type": "string"
                }
            },
            "required": [
                "password",
                "url",
                "user"
            ],
            "type": "object"
        },
        "SubsonicSourceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "data": {
                    "$ref": "#/definitions/SubsonicData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "subsonic"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "TautulliSourceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "data": {
                    "$ref": "#/definitions/PlexSourceData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "tautulli"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "YTMusicData": {
            "properties": {
                "authUser": {
                    "description": "If the 'X-Goog-AuthUser' header is present in the Request Headers for music.youtube.com it must also be included",
                    "type": "number"
                },
                "cookie": {
                    "description": "The cookie retrieved from the Request Headers of music.youtube.com after logging in.\n\nSee https://github.com/nickp10/youtube-music-ts-api/blob/master/DOCUMENTATION.md#authenticate and https://ytmusicapi.readthedocs.io/en/latest/setup.html#copy-authentication-headers for how to retrieve this value.",
                    "examples": [
                        "VISITOR_INFO1_LIVE=jMp2xA1Xz2_PbVc; __Secure-3PAPISID=3AxsXpy0M/AkISpjek; ..."
                    ],
                    "type": "string"
                },
                "interval": {
                    "default": 30,
                    "description": "How long to wait before polling the source API for new tracks (in seconds)",
                    "examples": [
                        30
                    ],
                    "type": "number"
                },
                "maxInterval": {
                    "default": 60,
                    "description": "When there has been no new activity from the Source API multi-scrobbler will gradually increase the wait time between polling up to this value (in seconds)",
                    "examples": [
                        60
                    ],
                    "type": "number"
                },
                "maxPollRetries": {
                    "default": 0,
                    "description": "default # of automatic polling restarts on error",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "maxRequestRetries": {
                    "default": 1,
                    "description": "default # of http request retries a source can make before error is thrown",
                    "examples": [
                        1
                    ],
                    "type": "number"
                },
                "options": {
                    "$ref": "#/definitions/Record<string,any>"
                },
                "retryMultiplier": {
                    "default": 1.5,
                    "description": "default retry delay multiplier (retry attempt * multiplier = # of seconds to wait before retrying)",
                    "examples": [
                        1.5
                    ],
                    "type": "number"
                }
            },
            "required": [
                "cookie"
            ],
            "type": "object"
        },
        "YTMusicSourceAIOConfig": {
            "properties": {
                "clients": {
                    "description": "Restrict scrobbling tracks played from this source to Clients with names from this list. If list is empty is not present Source scrobbles to all configured Clients.",
                    "examples": [
                        [
                            "MyMalojaConfigName",
                            "MyLastFMConfigName"
                        ]
                    ],
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "data": {
                    "$ref": "#/definitions/YTMusicData"
                },
                "name": {
                    "description": "Unique identifier for this source.",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "ytmusic"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        }
    },
    "properties": {
        "sourceDefaults": {
            "$ref": "#/definitions/SourceRetryOptions"
        },
        "sources": {
            "items": {
                "$ref": "#/definitions/SourceAIOConfig"
            },
            "type": "array"
        }
    },
    "type": "object"
}

