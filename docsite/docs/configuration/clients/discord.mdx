---
title: Discord
toc_min_heading_level: 2
toc_max_heading_level: 5
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import JsonConfig from '!!raw-loader!@site/../config/discord.json.example';

This scrobbler uses **[Now Playing](/configuration/clients#now-playing)** functionality to set your Discord [Rich Presence](https://docs.discord.com/developers/rich-presence/overview) to the music you are currently monitoring with multi-scrobbler.

:::warning[Discord TOS Violation]

This functionality requires you to use your own **User Token** in a way that is **against Discord's policies/terms of service.** If you use this scrobbler you do so **at your risk**.

Refer to the **How MS Uses Discord API** section below to gauge whether this risk is acceptable to you.

:::

<DetailsAdmo type="note" summary="How MS Uses Discord API">

Multi-scrobbler does its upmost to implement, to-spec, [Gateway API communication](https://docs.discord.com/developers/events/gateway) and respect usage. It requires no [permissions](https://docs.discord.com/developers/events/gateway#gateway-intents) and reads no data other than monitoring what other user sessions are active.

Aside from the on-paper violation of using a user token programmatically (on your behalf), there is no misuse of the API to achieve rich presence.

Additionally, MS uses the state of non-MS sessions to determine if it should update presence at all. Essentially, it will not act on your behalf unless you are:

* using an official client
* physically online
* not invisible

</DetailsAdmo>

## User Token

You must provide a User Token for this scrobbler to work.

No instructions will be provided for obtaining a User Token because it is against Discord's policies to use it. Instead, you can search online for "how to obtain discord user token".

:::warning

Treat your User Token like a login credential. Anyone who has your token can access Discord as you.

When finding instructions for obtaining this token only run commands, or follow steps, that you can understand and trust. Do not run commands you do not understand. Never give your token to someone else.

:::

## Artwork

For some Sources, MS parses album art and displays it in the dashboard. This image can be displayed on Discord alongside your listening status.

However, Discord needs a *direct, internet-facing* URL to correctly display this image which may not be feasible, or desirable, based on each of your Sources. For example:

* A Source may be accessible only on your LAN (Jellyfin at `http://192.168.0.101`)
* A Source may be internet-facing but you do not want to expose this information to discord/other users
* A Source may be internet-facing but requires authentication to view the image

MS is conservative in this context by **disallowing** use of album art URLs **by default.** Additionally, it **always** disallows use of these URLs if they do not start with `https`.

* To allow **any** `https` album art URLs set ENV `DISCORD_ARTWORK=true`
* To allow only `https` album art URLs from certain domains use a list of keywords like `DISCORD_ARTWORK=spotify,jellyfin` (or in file as `"artwork": ["spotify","jellyfin"]`)

If listening activity does not have album art, or the URL is disallowed, MS will use a fallback image of the multi-scrobbler logo. You can customize this fallback image with ENV `DISCORD_ARTWORK_DEFAULT_URL` or in file config with `artworkDefaultUrl`

## Configuration

<Config config="DiscordClientConfig" fileContent={JsonConfig} client name="discord">
        | Environmental Variable        | Required? | Default | Description                                                                                                |
        | :---------------------------- | --------- | ------- | :--------------------------------------------------------------------------------------------------------- |
        | `DISCORD_TOKEN`               | Yes       |         | User Token acquired from an active Discord sessions                                                        |
        | `DISCORD_ARTWORK`             | No        |         | A boolean indicating if external artwork URLs should be used. Or a comma-separated list of allowed domains |
        | `DISCORD_ARTWORK_DEFAULT_URL` | No        |         | A URL of an image to use as a fallback if the album art URL cannot be used                                 |
</Config>